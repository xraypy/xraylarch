
<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>13. Fitting and Modeling Data &#8212; xraylarch 0.9.75 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/larchdoc.css?v=dfcb3266" />
    
    <script src="_static/documentation_options.js?v=f5134787"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="13.1. Fitting Overview" href="fitting_overview.html" />
    <link rel="prev" title="12. Plotting and Displaying Data" href="plotting.html" />

<script async src="https://badge.dimensions.ai/badge.js" charset="utf-8"></script>

<script type="text/x-mathjax-config">
   MathJax.Hub.Config({ "TeX": {Macros: {AA : "{\\unicode{x212B}}"}}, "HTML-CSS": {scale: 90}});
</script>


  </head><body>
<div style=" color: #c5daba;  text-align: left; height:65px; padding: 0px">
<table border=0>
  <tr>
    <td width=20%>
	<a href="index.html">
	 <img src="_static/larchcones.png" height=50px alt="larchcones"/></a>
    </td>
    <td width=75% padding=0>
      <font size=+2>
	<a href="index.html" style="color:#772211">
	  Larch: Data Analysis Tools for X-ray Spectroscopy
	</a>
      </font>
    </td>
   </tr></table>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="fitting_overview.html" title="13.1. Fitting Overview"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plotting.html" title="12. Plotting and Displaying Data"
             accesskey="P">previous</a> |</li>
   <li>[<a href="index.html"> Larch</a>|</li>
   <li><a href="getting_started.html"> Getting Started</a>|</li>
   <li><a href="xafs.html">XAFS Analysis</a>|</li>
   <li><a href="xray.html">X-ray Databases</a>|</li>
   <li><a href="xrf.html">XRF Analysis</a>|</li>

        <li class="nav-item nav-item-this"><a href=""><span class="section-number">13. </span>Fitting and Modeling Data</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="plotting.html"
                          title="previous chapter"><span class="section-number">12. </span>Plotting and Displaying Data</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="fitting_overview.html"
                          title="next chapter"><span class="section-number">13.1. </span>Fitting Overview</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/fitting.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="fitting-and-modeling-data">
<span id="fitting-chapter"></span><h1><span class="section-number">13. </span>Fitting and Modeling Data<a class="headerlink" href="#fitting-and-modeling-data" title="Link to this heading">¶</a></h1>
<p>A key motivation for Larch is to provide easy and robust ways to model data
and perform complex fits of data to models.  Data modeling and fitting can
be messy and challenging tasks, so a major factor in Larch’s design was to
make this as simple as possible.  This chapter discusses the basic concepts
for building models, setting up and performing fits, and inspecting the
results.</p>
<p>The concepts presented here focus on modeling and fitting of general
spectra and data.  Of course, Larch can provides other, specific functions
for doing fits, such as the EXAFS procedures <code class="xref py py-func docutils literal notranslate"><span class="pre">_xafs.autobk()</span></code> and
<code class="xref py py-func docutils literal notranslate"><span class="pre">_xafs.feffit()</span></code>.  Many of these concepts (and the underlying fitting
algorithms) are used for those other functions as well.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="fitting_overview.html">13.1. Fitting Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="fitting_parameters.html">13.2. Parameters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fitting_parameters.html#param"><code class="docutils literal notranslate"><span class="pre">param()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_parameters.html#guess"><code class="docutils literal notranslate"><span class="pre">guess()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_parameters.html#setting-bounds">13.2.1. setting bounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_parameters.html#using-algebraic-constraints">13.2.2. using algebraic constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_parameters.html#param-group-creating-a-parameter-group-for-fitting-constraints">13.2.3. <code class="xref py py-func docutils literal notranslate"><span class="pre">param_group()</span></code>: creating a Parameter Group for fitting constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_parameters.html#fiteval-and-details-about-algebraic-constraints">13.2.4. <cite>fiteval</cite> and details about algebraic constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_parameters.html#working-with-uncertainties">13.2.5. working with uncertainties</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fitting_minimize.html">13.3. <code class="xref py py-func docutils literal notranslate"><span class="pre">minimize()</span></code> and objective Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fitting_minimize.html#minimize"><code class="docutils literal notranslate"><span class="pre">minimize()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fitting_results.html">13.4. Fit Results and Outputs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fitting_results.html#fit_report"><code class="docutils literal notranslate"><span class="pre">fit_report()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fitting_lineshapes.html">13.5. Some Builtin Line-shape Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fitting_lineshapes.html#gaussian"><code class="docutils literal notranslate"><span class="pre">gaussian()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_lineshapes.html#lorentzian"><code class="docutils literal notranslate"><span class="pre">lorentzian()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_lineshapes.html#voigt"><code class="docutils literal notranslate"><span class="pre">voigt()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_lineshapes.html#pvoigt"><code class="docutils literal notranslate"><span class="pre">pvoigt()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_lineshapes.html#pearson7"><code class="docutils literal notranslate"><span class="pre">pearson7()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_lineshapes.html#students_t"><code class="docutils literal notranslate"><span class="pre">students_t()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_lineshapes.html#breit_wigner"><code class="docutils literal notranslate"><span class="pre">breit_wigner()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_lineshapes.html#lognormal"><code class="docutils literal notranslate"><span class="pre">lognormal()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fitting_examples.html">13.6. Fit Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fitting_examples.html#example-1-fitting-a-simple-gaussian">13.6.1. Example 1: Fitting a Simple Gaussian</a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_examples.html#example-2-fitting-xanes-pre-edge-peaks">13.6.2. Example 2: Fitting XANES Pre-edge Peaks</a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_examples.html#example-3-fitting-xanes-spectra-as-a-linear-combination-of-other-spectra">13.6.3. Example 3: Fitting XANES Spectra as a Linear Combination of Other Spectra</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fitting_fitpeaks.html">13.7. Simplified Peak Fitting with <code class="xref py py-func docutils literal notranslate"><span class="pre">fit_peak()</span></code></a><ul>
<li class="toctree-l2"><a class="reference internal" href="fitting_fitpeaks.html#math.fit_peak"><code class="docutils literal notranslate"><span class="pre">fit_peak()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_fitpeaks.html#example-fitting-a-gaussian-background-with-fit-peak">13.7.1. Example: Fitting a Gaussian + background with <code class="xref py py-func docutils literal notranslate"><span class="pre">fit_peak()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_fitpeaks.html#example-fitting-a-rectangular-function-with-fit-peak">13.7.2. Example: Fitting a Rectangular function with <code class="xref py py-func docutils literal notranslate"><span class="pre">fit_peak()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_fitpeaks.html#using-lmfit-model">13.7.3. Using lmfit.Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fitting_confidence.html">13.8. Advanced Confidence Intervals and Chi-square maps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fitting_confidence.html#confidence_intervals"><code class="docutils literal notranslate"><span class="pre">confidence_intervals()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_confidence.html#confidence_report"><code class="docutils literal notranslate"><span class="pre">confidence_report()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_confidence.html#f_test"><code class="docutils literal notranslate"><span class="pre">f_test()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_confidence.html#confidence-interval-example-1">13.8.1. Confidence interval, Example 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_confidence.html#confidence-interval-example-2">13.8.2. Confidence interval, Example 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="fitting_confidence.html#chi-square-maps">13.8.3. Chi-square Maps</a></li>
</ul>
</li>
</ul>
</div>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="fitting_overview.html" title="13.1. Fitting Overview"
             >next</a> |</li>
        <li class="right" >
          <a href="plotting.html" title="12. Plotting and Displaying Data"
             >previous</a> |</li>
   <li>[<a href="index.html"> Larch</a>|</li>
   <li><a href="getting_started.html"> Getting Started</a>|</li>
   <li><a href="xafs.html">XAFS Analysis</a>|</li>
   <li><a href="xray.html">X-ray Databases</a>|</li>
   <li><a href="xrf.html">XRF Analysis</a>|</li>

        <li class="nav-item nav-item-this"><a href=""><span class="section-number">13. </span>Fitting and Modeling Data</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright Matthew Newville, The University of Chicago, 2022.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>