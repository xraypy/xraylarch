

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>11. Plotting and Displaying Data &#8212; xraylarch 0.9.58 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/larchdoc.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="12. Fitting and Modeling Data" href="fitting.html" />
    <link rel="prev" title="10. Reading and Writing Data" href="data.html" />

<script async src="https://badge.dimensions.ai/badge.js" charset="utf-8"></script>

<script type="text/x-mathjax-config">
   MathJax.Hub.Config({ "TeX": {Macros: {AA : "{\\unicode{x212B}}"}}, "HTML-CSS": {scale: 90}});
</script>


  </head><body>
<div style=" color: #c5daba;  text-align: left; height:65px; padding: 0px">
<table border=0>
  <tr>
    <td width=20%>
	<a href="index.html">
	 <img src="_static/larchcones.png" height=50px alt="larchcones"/></a>
    </td>
    <td width=75% padding=0>
      <font size=+2>
	<a href="index.html" style="color:#772211">
	  Larch: Data Analysis Tools for X-ray Spectroscopy
	</a>
      </font>
    </td>
   </tr></table>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="fitting.html" title="12. Fitting and Modeling Data"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="data.html" title="10. Reading and Writing Data"
             accesskey="P">previous</a> |</li>
   <li>[<a href="index.html"> Larch</a>|</li>
   <li><a href="getting_started.html"> Getting Started</a>|</li>
   <li><a href="xafs.html">XAFS Analysis</a>|</li>
   <li><a href="xray.html">X-ray Databases</a>|</li>
   <li><a href="xrf.html">XRF Analysis</a>|</li>

        <li class="nav-item nav-item-this"><a href=""><span class="section-number">11. </span>Plotting and Displaying Data</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">11. Plotting and Displaying Data</a><ul>
<li><a class="reference internal" href="#line-plots">11.1. Line Plots</a><ul>
<li><a class="reference internal" href="#plot-newplot-and-oplot">11.1.1. <code class="xref py py-func docutils literal notranslate"><span class="pre">plot()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">newplot()</span></code>, and <code class="xref py py-func docutils literal notranslate"><span class="pre">oplot()</span></code></a></li>
<li><a class="reference internal" href="#plot-examples">11.1.2. Plot Examples</a></li>
<li><a class="reference internal" href="#interactive-use-of-the-plot-windows">11.1.3. Interactive Use of the Plot Windows</a></li>
<li><a class="reference internal" href="#using-tex-like-commands-for-labels-and-titles">11.1.4. Using TeX-like commands for labels and titles</a></li>
</ul>
</li>
<li><a class="reference internal" href="#image-display-and-contour">11.2. Image Display and Contour</a></li>
<li><a class="reference internal" href="#advanced-plotting-using-matplotlib">11.3. Advanced Plotting: using matplotlib</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="data.html"
                        title="previous chapter"><span class="section-number">10. </span>Reading and Writing Data</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fitting.html"
                        title="next chapter"><span class="section-number">12. </span>Fitting and Modeling Data</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/plotting.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="plotting-and-displaying-data">
<span id="plotting-chapter"></span><h1><span class="section-number">11. </span>Plotting and Displaying Data<a class="headerlink" href="#plotting-and-displaying-data" title="Permalink to this headline">¶</a></h1>
<p>Plotting and Visualizing data are vital to any scientific analysis package,
and Larch provides several methods for data visualization.  These are
largely built on two types of data display.  The first is the line plot
(sometimes calld an xy plot), which shows traces of a set of functions
y(x).  The second type of data display supported is the 2-dimensional image
display, in which a grey scale or false color map shows an image
representing a 2-dimensional array of intensity.</p>
<p>Though not a dedicated plotting and graphics packages, Larch attempts to
provide satisfying graphical displays of data, and the basic plots made
with Larch are of high enough quality to include in publications.  In
addition, both line plots and image display provide interactive features
such as zooming in and out, changing properties such as colors and labels.
Finally, copying and saving images of the graphics is easy and can be done
either with keyboard commands such as Ctrl-C or from dropdown menus on the
graphic elements.</p>
<span class="target" id="module-_plotter"></span><section id="line-plots">
<h2><span class="section-number">11.1. </span>Line Plots<a class="headerlink" href="#line-plots" title="Permalink to this headline">¶</a></h2>
<p>Larch provides a few functions for making line plots, with the principle
function being called <a class="reference internal" href="#id0" title="_plotter.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot()</span></code></a>.  The <a class="reference internal" href="#id0" title="_plotter.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot()</span></code></a> function takes two
arrays: <cite>x</cite>, the abscissa array, and <cite>y</cite>, the ordinate array.  It also
accepts a very large number of optional arguments for setting properties
like color, line style, labels, and so on.  Most of these properties can
also be set after the plot is displayed through the graphical display of
the plot itself.  The plots are fully interactive so that coordinates can
be seen (and written to larch variables) by clicking on the plot, and
zooming in on portions of the plot can be done with click-and-drag.
Right-clicking will pop up a list of options for zooming out, configuring
the plot, or saving a PNG image of the plot.  Menus on the window frame
give even more options, including Copy-to-clipboard and printing.</p>
<p>Multiple plot windows can be shown simultaneously, each in an independent
window, and you can control which one is drawn to with a plot window index
<code class="docutils literal notranslate"><span class="pre">win</span></code>.</p>
<section id="plot-newplot-and-oplot">
<h3><span class="section-number">11.1.1. </span><a class="reference internal" href="#id0" title="_plotter.plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot()</span></code></a>, <a class="reference internal" href="#plotter.newplot" title="_plotter.newplot"><code class="xref py py-func docutils literal notranslate"><span class="pre">newplot()</span></code></a>, and <code class="xref py py-func docutils literal notranslate"><span class="pre">oplot()</span></code><a class="headerlink" href="#plot-newplot-and-oplot" title="Permalink to this headline">¶</a></h3>
<p>These functions all create a Line Plot from array of <cite>x</cite> and <cite>y</cite> data that
are taken to be ordered, and so can be drawn as connected by lines from one
point to the next.  These functions share many options to set labels,
colors, and so on to modify the resulting plot.  All options are specified
by the keyword/value arguments described in the <a class="reference internal" href="#plotopt-table"><span class="std std-ref">Table of Plot
Arguments</span></a> below.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plotter.plot">
<span id="_plotter.plot"></span><span class="sig-prename descclassname"><span class="pre">_plotter.</span></span><span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plotter.plot" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – array of x values</p></li>
<li><p><strong>y</strong> – array of y values – same size as x</p></li>
<li><p><strong>kws</strong> – optional commands as listed in  <a class="reference internal" href="#plotopt-table"><span class="std std-ref">Table of Plot Arguments</span></a>.</p></li>
</ul>
</dd>
</dl>
<p>Plot y(x) given 1-dimensional x and y arrays – these must be of the
same size.   Each x, y pair displayed  is called a <em>trace</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plotter.newplot">
<span id="_plotter.newplot"></span><span class="sig-prename descclassname"><span class="pre">_plotter.</span></span><span class="sig-name descname"><span class="pre">newplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plotter.newplot" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – array of x values</p></li>
<li><p><strong>y</strong> – array of y values – same size as x</p></li>
<li><p><strong>kws</strong> – optional commands as listed in  <a class="reference internal" href="#plotopt-table"><span class="std std-ref">Table of Plot Arguments</span></a>.</p></li>
</ul>
</dd>
</dl>
<p>This is essentially the same a <a class="reference internal" href="#id0" title="_plotter.plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot()</span></code></a>, but with the option  <cite>new=True</cite>.
The rest of the arguments are as</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id0">
<span class="sig-prename descclassname"><span class="pre">_plotter.</span></span><span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – array of x values</p></li>
<li><p><strong>y</strong> – array of y values – same size as x</p></li>
<li><p><strong>kws</strong> – optional commands as listed in  <a class="reference internal" href="#plotopt-table"><span class="std std-ref">Table of Plot Arguments</span></a>.</p></li>
</ul>
</dd>
</dl>
<p>This is essentially the same a <a class="reference internal" href="#id0" title="_plotter.plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot()</span></code></a>, but with the option  <cite>new=False</cite>.</p>
</dd></dl>

<p id="plotopt-table"><strong>Table of Plot Arguments</strong> These arguments apply for the <a class="reference internal" href="#id0" title="_plotter.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot()</span></code></a>, <a class="reference internal" href="#plotter.newplot" title="_plotter.newplot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newplot()</span></code></a>, and
<a class="reference internal" href="#plotter.scatterplot" title="_plotter.scatterplot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">scatterplot()</span></code></a> methods.  Except where noted, the arguments are available for <a class="reference internal" href="#id0" title="_plotter.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot()</span></code></a> and
<a class="reference internal" href="#plotter.newplot" title="_plotter.newplot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">newplot()</span></code></a>.  In addition, the <a class="reference internal" href="#plotter.scatterplot" title="_plotter.scatterplot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">scatterplot()</span></code></a> method uses many of the same arguments for the
same meaning, as indicated by the right-most column.</p>
<blockquote>
<div><blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 12%" />
<col style="width: 9%" />
<col style="width: 49%" />
<col style="width: 13%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>argument</p></th>
<th class="head"><p>type</p></th>
<th class="head"><p>default</p></th>
<th class="head"><p>meaning</p></th>
<th class="head"><p>scatterplot?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>title</p></td>
<td><p>string</p></td>
<td><p>None</p></td>
<td><p>Plot title</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>ylabel</p></td>
<td><p>string</p></td>
<td><p>None</p></td>
<td><p>abscissa label</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>y2label</p></td>
<td><p>string</p></td>
<td><p>None</p></td>
<td><p>right-hand abscissa label</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>label</p></td>
<td><p>string</p></td>
<td><p>None</p></td>
<td><p>trace label (defaults to ‘trace N’)</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>win</p></td>
<td><p>integer</p></td>
<td><p>1</p></td>
<td><p>index of plot window to use (1, 2, …, 16)</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>side</p></td>
<td><p>left/right</p></td>
<td><p>left</p></td>
<td><p>side for y-axis and label</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>grid</p></td>
<td><p>None/bool</p></td>
<td><p>None</p></td>
<td><p>to show grid lines</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>fullbox</p></td>
<td><p>bool</p></td>
<td><p>True</p></td>
<td><p>to show full box (not just left + bottom axes)</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>color</p></td>
<td><p>string</p></td>
<td><p>blue</p></td>
<td><p>color to use for trace</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>bgcolor</p></td>
<td><p>string</p></td>
<td><p>white</p></td>
<td><p>color to use for plot background</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>framecolor</p></td>
<td><p>string</p></td>
<td><p>white</p></td>
<td><p>color to use for outer plot frame</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>gridcolor</p></td>
<td><p>string</p></td>
<td><p>gray</p></td>
<td><p>color to use grid</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>use_dates</p></td>
<td><p>bool</p></td>
<td><p>False</p></td>
<td><p>to show dates in xlabel (<a class="reference internal" href="#id0" title="_plotter.plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plot()</span></code></a> only)</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>linewidth</p></td>
<td><p>int</p></td>
<td><p>2</p></td>
<td><p>linewidth for trace</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>style</p></td>
<td><p>string</p></td>
<td><p>solid</p></td>
<td><p>line-style for trace (solid, dashed, …)</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>drawstyle</p></td>
<td><p>string</p></td>
<td><p>line</p></td>
<td><p>style connecting points of trace</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>marker</p></td>
<td><p>string</p></td>
<td><p>None</p></td>
<td><p>symbol to show for each point (+, o, ….)</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>markersize</p></td>
<td><p>int</p></td>
<td><p>8</p></td>
<td><p>size of marker shown for each point</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>labelfontsize</p></td>
<td><p>int</p></td>
<td><p>9</p></td>
<td><p>font size of labels</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>legendfontsize</p></td>
<td><p>int</p></td>
<td><p>7</p></td>
<td><p>font size of legend</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>dy</p></td>
<td><p>array</p></td>
<td><p>None</p></td>
<td><p>uncertainties for y values; error bars</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>ylog_scale</p></td>
<td><p>bool</p></td>
<td><p>False</p></td>
<td><p>draw y axis with log(base 10) scale</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>xmin</p></td>
<td><p>float</p></td>
<td><p>None</p></td>
<td><p>minimum displayed x value</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>xmax</p></td>
<td><p>float</p></td>
<td><p>None</p></td>
<td><p>maximum displayed x value</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>ymin</p></td>
<td><p>float</p></td>
<td><p>None</p></td>
<td><p>minimum displayed y value</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>ymax</p></td>
<td><p>float</p></td>
<td><p>None</p></td>
<td><p>maximum displayed y value</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>autoscale</p></td>
<td><p>bool</p></td>
<td><p>True</p></td>
<td><p>whether to automatically set plot limits</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>zorder</p></td>
<td><p>None/int</p></td>
<td><p>None</p></td>
<td><p>Z-order of trace (which trace is on top)</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>show_legend</p></td>
<td><p>None/bool</p></td>
<td><p>None</p></td>
<td><p>whether to display legend (None: leave as is)</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td><p>legend_loc</p></td>
<td><p>string</p></td>
<td><p>‘ur’</p></td>
<td><p>location of legend (‘ur’, ‘ll’, etc)</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-even"><td><p>refresh</p></td>
<td><p>bool</p></td>
<td><p>True</p></td>
<td><p>whether to refresh display</p></td>
<td><p>no</p></td>
</tr>
<tr class="row-odd"><td></td>
<td colspan="3"><p><strong>arguments that apply only for</strong> <a class="reference internal" href="#plotter.scatterplot" title="_plotter.scatterplot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">scatterplot()</span></code></a></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>size</p></td>
<td><p>int</p></td>
<td><p>10</p></td>
<td><p>size of marker</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>edgecolor</p></td>
<td><p>string</p></td>
<td><p>black</p></td>
<td><p>edge color of marker</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>selectcolor</p></td>
<td><p>string</p></td>
<td><p>red</p></td>
<td><p>color for selected points</p></td>
<td><p>yes</p></td>
</tr>
</tbody>
</table>
<p>For each plot window, the configuration for the plot (title, labels, grid
displays, etc) and the properties of each trace (color, linewidth, …)
are preserved for the duration of that window.   A few specific notes:</p>
<blockquote>
<div><p>1. The title, label, and grid arguments to <a class="reference internal" href="#id0" title="_plotter.plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot()</span></code></a> default to <code class="docutils literal notranslate"><span class="pre">None</span></code>,
which means to use the previously used value.</p>
<p>2. The <em>use_dates</em> option is not very rich, and simply turns x-values that
are Unix timestamps into x labels showing the dates.</p>
<p>3. While the default is to auto-scale the plot from the data ranges,
specifying any of the limits will override the corresponding limit(s).</p>
<p>4. The <em>color</em> argument can be any color name (“blue”, “red”, “black”, etc),
standard X11 color names (“cadetblue3”, “darkgreen”, etc), or an RGB hex
color string of the form “#RRGGBB”.</p>
<p>5. Valid <em>style</em> arguments are ‘solid’, ‘dashed’, ‘dotted’, or ‘dash-dot’ ,
with ‘solid’ as the default.</p>
<p>6. Valid <em>marker</em> arguments are ‘+’, ‘o’, ‘x’, ‘^’, ‘v’, ‘&gt;’, ‘&lt;’, ‘|’, ‘_’,
‘square’, ‘diamond’, ‘thin diamond’, ‘hexagon’, ‘pentagon’, ‘tripod 1’, or
‘tripod 2’.</p>
<p>7. Valid <em>drawstyles</em> are None (which connects points with a straight line),
‘steps-pre’, ‘steps-mid’, or ‘steps-post’, which give a step between the
points, either just after a point (‘steps-pre’), midway between them
(‘steps-mid’) or just before each point (‘steps-post’).   Note that if displaying
discrete values as a function of time, left-to-right, and want to show a
transition to a new value as a sudden step, you want ‘steps-post’.</p>
</div></blockquote>
</div></blockquote>
<p>Again, most of these values can be configured interactively from the Plot configuration window.</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="plotter.scatterplot">
<span id="_plotter.scatterplot"></span><span class="sig-prename descclassname"><span class="pre">_plotter.</span></span><span class="sig-name descname"><span class="pre">scatterplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plotter.scatterplot" title="Permalink to this definition">¶</a></dt>
<dd><p>A scatterplot differs from a line plot in that the set of x, y values
are not assumed to be in any particular order, and so are not connected
with a line.  Arguments are very similar to those for <a class="reference internal" href="#id0" title="_plotter.plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot()</span></code></a>, and
are listed in  <a class="reference internal" href="#plotopt-table"><span class="std std-ref">Table of Plot Arguments</span></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plotter.update_trace">
<span id="_plotter.update_trace"></span><span class="sig-prename descclassname"><span class="pre">_plotter.</span></span><span class="sig-name descname"><span class="pre">update_trace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">win</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">side</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'left'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plotter.update_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>updates an existing trace of a plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – array of x values</p></li>
<li><p><strong>y</strong> – array of y values</p></li>
<li><p><strong>win</strong> – integer index of window for plot (1 is the first window)</p></li>
<li><p><strong>trace</strong> – integer index for the trace (1 is the first trace)</p></li>
<li><p><strong>side</strong> – which y axis to use (‘left’ or ‘right’).</p></li>
</ul>
</dd>
</dl>
<p>This function is particularly useful for data to be plotted is changing
and you wish to update traces from a previous <a class="reference internal" href="#id0" title="_plotter.plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot()</span></code></a> with new
data without completely redrawing the entire plot.  Using this method
is substantially faster than replotting, and should be used for dynamic
plots, such as plottting the progress of some function during a fit.
Note that you cannot change properties such as color here – these will
be inherited from the existing trace.  In that sense, most of the
properties of the trace and of the plot as a whole remain unchanged, it
just happens that the data for the trace has been replaced.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plotter.plot_text">
<span id="_plotter.plot_text"></span><span class="sig-prename descclassname"><span class="pre">_plotter.</span></span><span class="sig-name descname"><span class="pre">plot_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">win</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">side</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'left'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'left'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">va</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'center'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plotter.plot_text" title="Permalink to this definition">¶</a></dt>
<dd><p>add text at x, y coordinates of the plot window</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – text to draw</p></li>
<li><p><strong>x</strong> – x position of text</p></li>
<li><p><strong>y</strong> – y position of text</p></li>
<li><p><strong>win</strong> – index of Plot Frame (0, 1, etc).  May create a new Plot Frame.</p></li>
<li><p><strong>side</strong> – which axis to use (‘left’ or ‘right’) for coordinates.</p></li>
<li><p><strong>rotation</strong> – text rotation. angle in degrees or ‘vertical’ or ‘horizontal’</p></li>
<li><p><strong>ha</strong> – horizontal alignment (‘left’, ‘center’, ‘right’)</p></li>
<li><p><strong>va</strong> – vertical alignment (‘top’, ‘center’, ‘bottom’, ‘baseline’)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plotter.plot_arrow">
<span id="_plotter.plot_arrow"></span><span class="sig-prename descclassname"><span class="pre">_plotter.</span></span><span class="sig-name descname"><span class="pre">plot_arrow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">win</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plotter.plot_arrow" title="Permalink to this definition">¶</a></dt>
<dd><p>draw arrow from x1, y1 to x2, y2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x1</strong> – starting x coordinate</p></li>
<li><p><strong>y1</strong> – starting y coordinate</p></li>
<li><p><strong>x2</strong> – endnig x coordinate</p></li>
<li><p><strong>y2</strong> – ending y coordinate</p></li>
<li><p><strong>win</strong> – index of Plot Frame (0, 1, etc).  May create a new Plot Frame.</p></li>
<li><p><strong>side</strong> – which axis to use (‘left’ or ‘right’) for coordinates.</p></li>
<li><p><strong>shape</strong> – arrow head shape (‘full’, ‘left’, ‘right’)</p></li>
<li><p><strong>fg</strong> – arrow fill color (‘black’)</p></li>
<li><p><strong>width</strong> – width of arrow line (in points. default=0.0)</p></li>
<li><p><strong>head_width</strong> – width of arrow head (in points. default=0.05)</p></li>
<li><p><strong>head_length</strong> – length of arrow head (in points. default=0.25)</p></li>
<li><p><strong>overhang</strong> – amount the arrow is swept back (in points. default=0)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plotter.plot_marker">
<span id="_plotter.plot_marker"></span><span class="sig-prename descclassname"><span class="pre">_plotter.</span></span><span class="sig-name descname"><span class="pre">plot_marker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'o'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'black'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_nolegend_'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">win</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plotter.plot_marker" title="Permalink to this definition">¶</a></dt>
<dd><p>draw a single marker at x, y</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – x coordinate</p></li>
<li><p><strong>y</strong> – y coordinate</p></li>
<li><p><strong>marker</strong> – symbol to draw at each point (‘+’, ‘o’, ‘x’, ‘square’, etc) [‘o’]</p></li>
<li><p><strong>size</strong> – symbol size [4]</p></li>
<li><p><strong>color</strong> – color for marker [‘black’]</p></li>
<li><p><strong>win</strong> – index of Plot Frame (0, 1, etc).  May create a new Plot Frame. [1]</p></li>
<li><p><strong>kws</strong> – other arguments are semt to func:<cite>oplot</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">plot_axhline(y,</span> <span class="pre">xmin=0,</span> <span class="pre">xmax=1,</span> <span class="pre">win=1,</span> <span class="pre">size=None,</span> <span class="pre">**kws):</span></span></dt>
<dd><p>plot a horizontal line spanning the plot axes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y</strong> – y position of line</p></li>
<li><p><strong>xmin</strong> – starting x fraction (window units – not user units!) [0]</p></li>
<li><p><strong>xmax</strong> – ending x fraction (window units – not user units!) [1]</p></li>
<li><p><strong>win</strong> – index of Plot Frame (0, 1, etc).  May create a new Plot Frame. [1]</p></li>
<li><p><strong>kws</strong> – other arguments are semt to func:<cite>axes.axhline</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">plot_axvline(x,</span> <span class="pre">ymin=0,</span> <span class="pre">ymax=1,</span> <span class="pre">win=1,</span> <span class="pre">size=None,</span> <span class="pre">**kws):</span></span></dt>
<dd><p>plot a horizontal line spanning the plot axes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – x position of line</p></li>
<li><p><strong>ymin</strong> – starting y fraction (window units – not user units!) [0]</p></li>
<li><p><strong>ymax</strong> – ending y fraction (window units – not user units!) [1]</p></li>
<li><p><strong>win</strong> – index of Plot Frame (0, 1, etc).  May create a new Plot Frame. [1]</p></li>
<li><p><strong>kws</strong> – other arguments are semt to func:<cite>axes.axvline</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plotter.save_plot">
<span id="_plotter.save_plot"></span><span class="sig-prename descclassname"><span class="pre">_plotter.</span></span><span class="sig-name descname"><span class="pre">save_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">win</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facecolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edgecolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transparent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plotter.save_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>save the current plot to a PNG or other output formats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – name of output file</p></li>
<li><p><strong>dpi</strong> – resolution (dots per inch)</p></li>
<li><p><strong>format</strong> – output format (one of ‘png’, ‘pdf’, or ‘svg’)</p></li>
<li><p><strong>win</strong> – index of Plot Frame (0, 1, etc).  May create a new Plot Frame.</p></li>
<li><p><strong>facecolor</strong> – color of plot background (not supported for all formats)</p></li>
<li><p><strong>edgecolor</strong> – color of plot frame color (not supported for all formats)</p></li>
<li><p><strong>transparent</strong> – whether to use a transparent background.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plotter.save_image">
<span id="_plotter.save_image"></span><span class="sig-prename descclassname"><span class="pre">_plotter.</span></span><span class="sig-name descname"><span class="pre">save_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">win</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facecolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edgecolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transparent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plotter.save_image" title="Permalink to this definition">¶</a></dt>
<dd><p>save the current 2D image from <a class="reference internal" href="#plotter.imshow" title="_plotter.imshow"><code class="xref py py-meth docutils literal notranslate"><span class="pre">imshow()</span></code></a> to a PNG or other output formats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – name of output file</p></li>
<li><p><strong>dpi</strong> – resolution (dots per inch)</p></li>
<li><p><strong>format</strong> – output format (one of ‘png’, ‘pdf’, or ‘svg’)</p></li>
<li><p><strong>win</strong> – index of Plot Frame (0, 1, etc).  May create a new Plot Frame.</p></li>
<li><p><strong>facecolor</strong> – color of plot background (not supported for all formats)</p></li>
<li><p><strong>edgecolor</strong> – color of plot frame color (not supported for all formats)</p></li>
<li><p><strong>transparent</strong> – whether to use a transparent background.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plotter.get_display">
<span id="_plotter.get_display"></span><span class="sig-prename descclassname"><span class="pre">_plotter.</span></span><span class="sig-name descname"><span class="pre">get_display</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">win</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plotter.get_display" title="Permalink to this definition">¶</a></dt>
<dd><p>return the underlying Display object. For advanced usage, this allows
access to the PlotDisplay object, which is the wxPython frame for the
plot window.  The plot itself is contained in the <code class="docutils literal notranslate"><span class="pre">panel</span></code> attribute,
which contains the matplotlib components  <code class="docutils literal notranslate"><span class="pre">axes</span></code> and <code class="docutils literal notranslate"><span class="pre">canvas</span></code>.  For
more details, see <a class="reference internal" href="#plot-mpl-sec"><span class="std std-ref">Advanced Plotting: using matplotlib</span></a>.</p>
</dd></dl>

</section>
<section id="plot-examples">
<h3><span class="section-number">11.1.2. </span>Plot Examples<a class="headerlink" href="#plot-examples" title="Permalink to this headline">¶</a></h3>
<p>Here are a few example line plots, to whet your appetite:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">101</span><span class="p">)</span>
<span class="n">y1</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">y2</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span> <span class="o">+</span><span class="mf">0.2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="mf">0.2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
<span class="n">newplot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y1</span><span class="p">)</span>
</pre></div>
</div>
<p>will make this plot:</p>
<figure class="align-default" id="id1">
<span id="plotting-fig1"></span><a class="reference external image-reference" href="_images/plot_basic1.png"><img alt="_images/plot_basic1.png" src="_images/plot_basic1.png" style="width: 60%;" /></a>
<figcaption>
<p><span class="caption-number">Figure 11.1.2.1 </span><span class="caption-text">A basic line plot.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Adding a second curve, and setting some labels:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;x (mm)&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;f(x)&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Example Plot&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>will make this plot:</p>
<figure class="align-default" id="id2">
<span id="plotting-fig2"></span><a class="reference external image-reference" href="_images/plot_basic2.png"><img alt="_images/plot_basic2.png" src="_images/plot_basic2.png" style="width: 60%;" /></a>
<figcaption>
<p><span class="caption-number">Figure 11.1.2.2 </span><span class="caption-text">A line plot with two curves.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="interactive-use-of-the-plot-windows">
<h3><span class="section-number">11.1.3. </span>Interactive Use of the Plot Windows<a class="headerlink" href="#interactive-use-of-the-plot-windows" title="Permalink to this headline">¶</a></h3>
<p>From the main plot window, you can perform several tasks interactively:</p>
<p><strong>Getting Cursor Position</strong>:</p>
<p>From the plot window you can click the left button of your mouse, and see
the X, Y coordinates of where you clicked displayed in the status bar at
the bottom of the plot window.   You can also read the values from the
variables <code class="xref py py-data docutils literal notranslate"><span class="pre">_plotter.plot1_x</span></code>  and <code class="xref py py-data docutils literal notranslate"><span class="pre">_plotter.plot1_y</span></code>, for plot
window 1, and <code class="xref py py-data docutils literal notranslate"><span class="pre">_plotter.plot2_x</span></code>  and on for other plot windows.</p>
<p><strong>Zooming in and out</strong>:</p>
<p>Left-clicking on the plot window and then dragging the mouse around with
the button still pressed will draw a rectangular box around part of the
plot window.  Releasing the mouse will zoom in on the portion of the plot
set by the rectangle. You can zoom in multiple times.</p>
<p>To unzoom, press Ctrl-Z (Apple-Z on Mac OS X), which will go back to the
previous zoom rectangle.  You can also right-click on the plot, which will
bring up a window from which you can zoom out 1 level at a time, or all
the way back to fully zoomed out.</p>
<p><strong>Copy to Clipboard</strong>:</p>
<p>To copy the plot image (just the main plot image, not all the Window
decorations such as menus and status bar) to the sysem clipboard, type
Ctrl-C (Apple-C for Mac OS X users).  You can then paste this image into
other applications such as rich text documents and slide presentations.</p>
<p><strong>Save image to PNG, PDF, or SVG</strong>:</p>
<p>To save the plot image to a standard image format, use Ctrl-S (Apple-S for
Mac OS X users).  This will bring up a ‘save file’ dialog box for writing
an image file.  The images will be generally high resolution, and should be
of sufficiently high quality to be acceptable for publication or public
display.  Each of the supported image formats – PNG (default), PDF, and
SVG – has its strengths and weaknesses. The PNG images use high resolution
(600dpi) and anti-aliasing, and are generally higher quality than the SVG
images.  The PDF images include real font information but does not use
anti-aliasing.</p>
<p><strong>Print image</strong>:</p>
<p>On many systems, you should be able to print directly from the Plot
Window, using Ctrl-P (Apple-P for Mac OS X users).   This may not work on
all systems, in which case saving an image and printing that should</p>
<p><strong>Configuring the Plot</strong>:</p>
<p>From the Plot Window, either Ctrl-K (Apple-K for Mac OS X users) or
Options-&gt;’Configure Plot’ (or right-click to bring up a popup menu, then
select Configure) will bring up the plot configuration window, which looks
like this:</p>
<figure class="align-default" id="id3">
<span id="plotting-fig3"></span><a class="reference external image-reference" href="_images/plot_config.png"><img alt="_images/plot_config.png" src="_images/plot_config.png" style="width: 60%;" /></a>
<figcaption>
<p><span class="caption-number">Figure 11.1.3.1 </span><span class="caption-text">Screenshot of the Configuration window for Plots.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>From here you can set the titles, axis labels, and styles, colors, symbols,
labels, and so on for each of the line traces drawn.</p>
</section>
<section id="using-tex-like-commands-for-labels-and-titles">
<h3><span class="section-number">11.1.4. </span>Using TeX-like commands for labels and titles<a class="headerlink" href="#using-tex-like-commands-for-labels-and-titles" title="Permalink to this headline">¶</a></h3>
<p>The titles and labels for plot elements can be simple strings or use a
subset of TeX markup to give fine control over typesetting greek letters,
mathematical symbols and formulae.   A simple example would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">chi</span><span class="p">,</span> <span class="n">xlabel</span> <span class="o">=</span> <span class="s1">&#39;$ k </span><span class="se">\r</span><span class="s1">m(\AA^{-1}) $&#39;</span><span class="p">,</span> <span class="n">ylabel</span> <span class="o">=</span> <span class="s1">&#39;$ \chi(k) $ &#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The portion of the strings between the dollar signs (‘$’) will be rendered
as TeX-like markup, and so render the x and y labels as (for the pedantic,
these renderings below may be only approximate):</p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(k \rm(\AA^{-1})\)</span></p>
<p><span class="math notranslate nohighlight">\(\chi(k)\)</span></p>
</div></blockquote>
<p>An important point here is the use of the backslash character, ‘\’, which
you may recall from the tutorial is also used as an escape sequence.  Thus
some TeX sequences, such as ‘\theta’ may require an additional backslash,
so that the ‘\t’ part isn’t rendered as a tab character. More generally,
use of <em>raw strings</em> is recommended in this context, so that one uses:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">chi</span><span class="p">,</span> <span class="n">xlabel</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$ k \rm(\AA^{-1}) $&#39;</span><span class="p">,</span> <span class="n">ylabel</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;$ \chi(k) $ &#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that this does not actually use TeX (so you don’t need TeX installed),
and the rendering is done by the matplotlib library.  For further details
about using TeX for markup, including a list of symbols, commands to change
fonts, and examples, can be found at <a class="reference external" href="https://matplotlib.org/users/mathtext.html">https://matplotlib.org/users/mathtext.html</a></p>
<p>When using the Plot Configuration window to enter a TeX-like string, the
text control box will be given a yellow background color (instead of the
normal white color) if there is an error in rendering your TeX string.</p>
</section>
</section>
<section id="image-display-and-contour">
<h2><span class="section-number">11.2. </span>Image Display and Contour<a class="headerlink" href="#image-display-and-contour" title="Permalink to this headline">¶</a></h2>
<dl class="py method">
<dt class="sig sig-object py" id="plotter.imshow">
<span id="_plotter.imshow"></span><span class="sig-prename descclassname"><span class="pre">_plotter.</span></span><span class="sig-name descname"><span class="pre">imshow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colormap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plotter.imshow" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dat</strong> – 2-d array of some intensity</p></li>
<li><p><strong>x</strong> – 1-d array of x values</p></li>
<li><p><strong>y</strong> – 1-d array of y values</p></li>
<li><p><strong>colormap</strong> – name of color table to use.</p></li>
</ul>
</dd>
</dl>
<p>display a grey-scale or false-color image from a 2-d array of intensities.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plotter.contour">
<span id="_plotter.contour"></span><span class="sig-prename descclassname"><span class="pre">_plotter.</span></span><span class="sig-name descname"><span class="pre">contour</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colormap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nlevels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kws</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#plotter.contour" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dat</strong> – 2-d array of some intensity</p></li>
<li><p><strong>x</strong> – 1-d array of x values</p></li>
<li><p><strong>y</strong> – 1-d array of y values</p></li>
<li><p><strong>colormap</strong> – name of color table to use.</p></li>
<li><p><strong>nlevels</strong> – number of contour levels shown</p></li>
</ul>
</dd>
</dl>
<p>display a grey-scale or false-color contour map from a 2-d array of intensities.</p>
</dd></dl>

<p>For both these functions, the <cite>x</cite> and <cite>y</cite> arguments are intended to show
real world coordinates for the image, not just the array indices.  If
<cite>None</cite>, the array indices will be shown.</p>
<p>By default, the image will be shown with the origin (pixel [0, 0]) in the
lower left corner.  The image can be rotated and flipped by the user.</p>
<p>The <cite>colormap</cite> argument is the name of the color map to use to transform
intensity to color.  The default table is ‘gray’ for a grayscale mapping.
Other valid names include ‘coolwarm’, ‘cool’, ‘hot’, ‘jet’, ‘Reds’,
‘Greens’, ‘Blues’, ‘copper’, and a host of others, available</p>
<p>From the Image Display Window, you zoom in on regions of the image, rotate
the image, change the color table, change the intensity scaling, change the
interpolattion algorithm used.  You can also toggle between showing an
image of continuously varying intensities and a contour map.  An example
image, generated with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## examples/plotting/doc_image2d.lar</span>

<span class="k">def</span> <span class="nf">gauss2d</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">sx</span><span class="p">,</span> <span class="n">sy</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">outer</span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(((</span><span class="n">y</span><span class="o">-</span><span class="n">y0</span><span class="p">)</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="n">sy</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span>
                 <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="p">(((</span><span class="n">x</span><span class="o">-</span><span class="n">x0</span><span class="p">)</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="n">sx</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
<span class="n">enddef</span>

<span class="n">ny</span><span class="p">,</span> <span class="n">nx</span> <span class="o">=</span> <span class="mi">350</span><span class="p">,</span> <span class="mi">400</span>
<span class="n">ix</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="n">nx</span><span class="p">)</span>
<span class="n">iy</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="n">ny</span><span class="p">)</span>
<span class="n">x</span>  <span class="o">=</span>  <span class="n">ix</span> <span class="o">/</span> <span class="mf">10.</span>
<span class="n">y</span>  <span class="o">=</span> <span class="o">-</span><span class="mi">2</span> <span class="o">+</span> <span class="n">iy</span> <span class="o">/</span> <span class="mf">10.0</span>

<span class="n">dat</span> <span class="o">=</span> <span class="mf">0.2</span> <span class="o">+</span> <span class="p">(</span><span class="mf">0.05</span><span class="o">*</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="n">nx</span><span class="o">*</span><span class="n">ny</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">ny</span><span class="p">,</span> <span class="n">nx</span><span class="p">)</span> <span class="o">+</span>
             <span class="mf">2.0</span><span class="o">*</span><span class="n">gauss2d</span><span class="p">(</span><span class="n">ix</span><span class="p">,</span> <span class="n">iy</span><span class="p">,</span> <span class="mi">190</span><span class="p">,</span>   <span class="mi">176</span><span class="p">,</span>  <span class="mi">57</span><span class="p">,</span>  <span class="mi">69</span><span class="p">))</span>

<span class="n">imshow</span><span class="p">(</span><span class="n">dat</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">colormap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">)</span>

<span class="c1">## end of examples/plotting/doc_image2d.lar</span>
</pre></div>
</div>
<p>is shown below:</p>
<figure class="align-default" id="id4">
<span id="plotting-fig4"></span><a class="reference external image-reference" href="_images/plot_image1.png"><img alt="_images/plot_image1.png" src="_images/plot_image1.png" style="width: 60%;" /></a>
<figcaption>
<p><span class="caption-number">Figure 11.2.1 </span><span class="caption-text">A false-color display of 2 dimensional image data.</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>and as a contour plot, with a different color table:</p>
<figure class="align-default" id="id5">
<span id="plotting-fig5"></span><a class="reference external image-reference" href="_images/plot_contour1.png"><img alt="_images/plot_contour1.png" src="_images/plot_contour1.png" style="width: 60%;" /></a>
<figcaption>
<p><span class="caption-number">Figure 11.2.2 </span><span class="caption-text">A contour plot of 2 dimensional image data.</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="advanced-plotting-using-matplotlib">
<span id="plot-mpl-sec"></span><h2><span class="section-number">11.3. </span>Advanced Plotting: using matplotlib<a class="headerlink" href="#advanced-plotting-using-matplotlib" title="Permalink to this headline">¶</a></h2>
<p>So far, this chapter has shown how to make simple plots and images.
One of the main goals of Larch is to not only make the simple tasks very
simple, but to keep the more difficult tasks possible and accessible.  To
this end, you can access both the wxPython and matplotlib components of the
plots and images to do plotting tasks not covered above.</p>
<p>The <a class="reference external" href="https://matplotlib.org/">matplotlib</a> library offers a full range of line and image plotting
functionality, as well as some support for 3-dimensioanl plotting.  Larch
gives you access to the maplotlib API by giving you access to the
matplotlib Axes and Canvas for any displayed plot.   To get this, you would
use <a class="reference internal" href="#plotter.get_display" title="_plotter.get_display"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_display()</span></code></a> to get the current display window, then access the
<code class="docutils literal notranslate"><span class="pre">panel.axes</span></code> member:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">101</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">display</span> <span class="o">=</span> <span class="n">get_display</span><span class="p">(</span><span class="n">win</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">display</span><span class="o">.</span><span class="n">pane</span><span class="o">.</span><span class="n">axes</span>
</pre></div>
</div>
<p>As an example of what you can do with this, here we make a histogram plot
from a sampling of a more conitinuous distribution.  This  uses
matplotlib’s <code class="xref py py-func docutils literal notranslate"><span class="pre">hist()</span></code> function,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## examples/plotting/doc_use_mpl.lar</span>
<span class="c1">#</span>
<span class="kn">from</span> <span class="nn">scipy.special</span> <span class="kn">import</span> <span class="n">gamma</span>

<span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;GNXAS-like distribution function&#39;</span>

<span class="n">sigma</span><span class="p">,</span> <span class="n">beta</span><span class="p">,</span> <span class="n">r0</span> <span class="o">=</span> <span class="mf">0.12</span><span class="p">,</span> <span class="mf">0.65</span><span class="p">,</span> <span class="mf">3.0</span>
<span class="n">q</span>    <span class="o">=</span> <span class="mi">4</span><span class="o">/</span><span class="n">beta</span><span class="o">**</span><span class="mi">2</span>
<span class="n">amp</span>  <span class="o">=</span> <span class="mi">2</span> <span class="o">/</span> <span class="p">(</span><span class="n">sigma</span><span class="o">*</span><span class="nb">abs</span><span class="p">(</span><span class="n">beta</span><span class="p">)</span><span class="o">*</span><span class="n">gamma</span><span class="p">(</span><span class="n">q</span><span class="p">))</span>

<span class="c1"># calculate g(r) on a fine r-grid:</span>
<span class="n">r</span>   <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mi">201</span><span class="p">)</span>
<span class="n">arg</span> <span class="o">=</span> <span class="n">q</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">r</span><span class="o">-</span><span class="n">r0</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="n">beta</span><span class="o">*</span><span class="n">sigma</span><span class="p">)</span>
<span class="n">gr</span>  <span class="o">=</span> <span class="n">amp</span> <span class="o">*</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">arg</span><span class="p">)</span><span class="o">*</span><span class="n">arg</span><span class="o">**</span><span class="p">(</span><span class="n">q</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># note removal of nan&#39;s and impossible values</span>
<span class="n">gr</span><span class="p">[</span><span class="n">isnan</span><span class="p">(</span><span class="n">gr</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">if</span> <span class="nb">min</span><span class="p">(</span><span class="n">gr</span><span class="p">)</span><span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span> <span class="n">gr</span><span class="p">[</span><span class="n">where</span><span class="p">(</span><span class="n">gr</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># standard plot of g(r)</span>
<span class="n">newplot</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">gr</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">xlabel</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;$R\,\rm(\AA)$&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;$g(R)$&#39;</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">fullbox</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># calculate g(r) on a coarse r-grid:</span>
<span class="n">hr</span>   <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span> <span class="mf">3.5</span><span class="p">,</span> <span class="mi">21</span><span class="p">)</span>
<span class="n">harg</span> <span class="o">=</span> <span class="n">q</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">hr</span><span class="o">-</span><span class="n">r0</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="n">beta</span><span class="o">*</span><span class="n">sigma</span><span class="p">)</span>
<span class="n">hgr</span>  <span class="o">=</span> <span class="n">amp</span> <span class="o">*</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">harg</span><span class="p">)</span><span class="o">*</span><span class="n">harg</span><span class="o">**</span><span class="p">(</span><span class="n">q</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hgr</span><span class="p">[</span><span class="n">isnan</span><span class="p">(</span><span class="n">hgr</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">if</span> <span class="nb">min</span><span class="p">(</span><span class="n">hgr</span><span class="p">)</span><span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>  <span class="n">hgr</span><span class="p">[</span><span class="n">where</span><span class="p">(</span><span class="n">hgr</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># get panel, matplotlib axes</span>
<span class="n">panel</span> <span class="o">=</span> <span class="n">get_display</span><span class="p">()</span><span class="o">.</span><span class="n">panel</span>
<span class="n">axes</span>  <span class="o">=</span> <span class="n">panel</span><span class="o">.</span><span class="n">axes</span>

<span class="c1"># plot histogram of coarse-grid data</span>
<span class="n">histo</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">hr</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">hgr</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">hr</span><span class="p">),</span> <span class="n">rwidth</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
<span class="n">panel</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

<span class="c1">## end of examples/plotting/doc_use_mpl.lar</span>
</pre></div>
</div>
<p>which generates a plot that looks like</p>
<figure class="align-default" id="id6">
<span id="plotting-fig6"></span><a class="reference external image-reference" href="_images/plot_histogram.png"><img alt="_images/plot_histogram.png" src="_images/plot_histogram.png" style="width: 60%;" /></a>
<figcaption>
<p><span class="caption-number">Figure 11.3.1 </span><span class="caption-text">A histogram plot made using matplotlib’s <code class="xref py py-func docutils literal notranslate"><span class="pre">hist()</span></code> function.</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="fitting.html" title="12. Fitting and Modeling Data"
             >next</a> |</li>
        <li class="right" >
          <a href="data.html" title="10. Reading and Writing Data"
             >previous</a> |</li>
   <li>[<a href="index.html"> Larch</a>|</li>
   <li><a href="getting_started.html"> Getting Started</a>|</li>
   <li><a href="xafs.html">XAFS Analysis</a>|</li>
   <li><a href="xray.html">X-ray Databases</a>|</li>
   <li><a href="xrf.html">XRF Analysis</a>|</li>

        <li class="nav-item nav-item-this"><a href=""><span class="section-number">11. </span>Plotting and Displaying Data</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Matthew Newville, The University of Chicago, 2020.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.1.
    </div>
  </body>
</html>