
<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>10.2. Basic and Complex Data Types &#8212; xraylarch 2025.2.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/larchdoc.css?v=dfcb3266" />
    
    <script src="../_static/documentation_options.js?v=6408075c"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="10.3. Basic Array Manipulation" href="arrays.html" />
    <link rel="prev" title="10.1. Getting Started" href="start.html" />

<script async src="https://badge.dimensions.ai/badge.js" charset="utf-8"></script>

<script type="text/x-mathjax-config">
   MathJax.Hub.Config({ "TeX": {Macros: {AA : "{\\unicode{x212B}}"}}, "HTML-CSS": {scale: 90}});
</script>


  </head><body>
<div style=" color: #c5daba;  text-align: left; height:65px; padding: 0px">
<table border=0>
  <tr>
    <td width=20%>
	<a href="../index.html">
	 <img src="../_static/larchcones.png" height=50px alt="larchcones"/></a>
    </td>
    <td width=75% padding=0>
      <font size=+2>
	<a href="../index.html" style="color:#772211">
	  Larch: Data Analysis Tools for X-ray Spectroscopy
	</a>
      </font>
    </td>
   </tr></table>
</div>

    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="arrays.html" title="10.3. Basic Array Manipulation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="start.html" title="10.1. Getting Started"
             accesskey="P">previous</a> |</li>
   <li>[<a href="../index.html"> Larch</a>|</li>
   <li><a href="../getting_started.html"> Getting Started</a>|</li>
   <li><a href="../xafs.html">XAFS Analysis</a>|</li>
   <li><a href="../xray.html">X-ray Databases</a>|</li>
   <li><a href="../xrf.html">XRF Analysis</a>|</li>

          <li class="nav-item nav-item-1"><a href="../larchlang.html" accesskey="U"><span class="section-number">10. </span>Larch Macro Language Tutorial</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">10.2. </span>Basic and Complex Data Types</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">10.2. Basic and Complex Data Types</a><ul>
<li><a class="reference internal" href="#basic-data-types">10.2.1. Basic Data Types</a></li>
<li><a class="reference internal" href="#objects-and-groups">10.2.2. Objects and Groups</a><ul>
<li><a class="reference internal" href="#objects">10.2.2.1. Objects</a></li>
<li><a class="reference internal" href="#groups">10.2.2.2. Groups</a></li>
<li><a class="reference internal" href="#builtin-larch-groups">10.2.2.3. Builtin Larch Groups</a></li>
<li><a class="reference internal" href="#how-larch-finds-variable-names">10.2.2.4. How Larch finds variable names</a></li>
</ul>
</li>
<li><a class="reference internal" href="#more-complex-data-structures-lists-arrays-dictionaries">10.2.3. More Complex Data Structures:  Lists, Arrays, Dictionaries</a><ul>
<li><a class="reference internal" href="#lists">10.2.3.1. Lists</a></li>
<li><a class="reference internal" href="#tuples">10.2.3.2. Tuples</a></li>
<li><a class="reference internal" href="#a-second-look-at-strings">10.2.3.3. A second look at Strings</a></li>
<li><a class="reference internal" href="#arrays">10.2.3.4. Arrays</a></li>
<li><a class="reference internal" href="#dictionaries">10.2.3.5. Dictionaries</a></li>
</ul>
</li>
<li><a class="reference internal" href="#object-identities-copying-and-equality-vs-identity">10.2.4. Object identities, copying, and equality vs. identity</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="start.html"
                          title="previous chapter"><span class="section-number">10.1. </span>Getting Started</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="arrays.html"
                          title="next chapter"><span class="section-number">10.3. </span>Basic Array Manipulation</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/larchlang/datatypes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="basic-and-complex-data-types">
<span id="tutor-datatypes-sec"></span><h1><span class="section-number">10.2. </span>Basic and Complex Data Types<a class="headerlink" href="#basic-and-complex-data-types" title="Link to this heading">¶</a></h1>
<p>This section of the Larch tutorial describes the types of data that Larch
has, and how to use them.</p>
<section id="basic-data-types">
<h2><span class="section-number">10.2.1. </span>Basic Data Types<a class="headerlink" href="#basic-data-types" title="Link to this heading">¶</a></h2>
<p>As with most programming languages, Larch has several built-in data types
to express different kinds of data.  These include the usual integers,
floating point numbers, and strings common to many programming languages.
A variable name can hold any of these types (or any of the other more
complex types we’ll get to later), and does not need to be declared
beforehand or to change its value or type.  Some examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="mf">2.50</span>
</pre></div>
</div>
<p>The normal ‘+’, ‘-’, ‘*’, and ‘/’ operations work on numerical values for
addition, subtraction, multiplication, and division.  Exponentiation is
signified by ‘**’, and modulus by ‘%’.  Larch uses the ‘/’ symbol for
division or ‘true division’, giving a floating point value if needed, even
if the numerator and denominator are integers, and ‘//’ for integer or
‘floor’ division.  Thus:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">a</span>
<span class="mi">5</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">b</span><span class="o">*</span><span class="mi">2</span>
<span class="mf">5.0</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="mi">3</span><span class="o">/</span><span class="mi">2</span>
<span class="mf">1.5</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="mi">3</span><span class="o">//</span><span class="mi">2</span>
<span class="mi">1</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="mi">7</span> <span class="o">%</span> <span class="mi">3</span>
<span class="mi">1</span>
</pre></div>
</div>
<p>Several other operators are supported for bit manipulation.</p>
<p>Literal strings are created with either matched closing single or double
quotes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;a string&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">s2</span> <span class="o">=</span> <span class="s2">&quot;a different string&quot;</span>
</pre></div>
</div>
<p>A string can include a ‘\n’ character (for newline) or ‘\t’ (for tab) and
several other control characters, as in many languages.  The backslash
character ‘\’ indicates these <em>escape sequences</em>, which includes newline as
tab as well as several other standard escape sequence.  The quote character
and the backslash character themselves can be backslashed.  Thus, to get an
actual backslash character in the string, you would have to use ‘\\’, and
to get a single quote, one might say:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">s3</span> <span class="o">=</span> <span class="s1">&#39;A string with a backslash-&gt; </span><span class="se">\\</span><span class="s1"> &#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">s4</span> <span class="o">=</span> <span class="s1">&#39;Bob</span><span class="se">\&#39;</span><span class="s1">s string&#39;</span>
</pre></div>
</div>
<p>One can also use so-called a <em>raw string</em>, in which the backslash character
is <strong>not</strong> used for escape sequences:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span> <span class="n">s5</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;A string with backslash \n but not a newline!&#39;</span>
</pre></div>
</div>
<p>For strings that may span over more than 1 line, a special “triple quoted”
syntax is supported, so that:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">long_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;Now is the time for all good men</span>
<span class="s2">.....&gt; to come to the aid of their party&quot;&quot;&quot;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">long_string</span><span class="p">)</span>
<span class="n">Now</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">time</span> <span class="k">for</span> <span class="nb">all</span> <span class="n">good</span> <span class="n">men</span>
<span class="n">to</span> <span class="n">come</span> <span class="n">to</span> <span class="n">the</span> <span class="n">aid</span> <span class="n">of</span> <span class="n">their</span> <span class="n">party</span>
</pre></div>
</div>
<p>It is important to keep in mind that mixing data types in a calculation may
or may not make sense to Larch.  For example, a string cannot be added to a
integer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="s1">&#39;1&#39;</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">Runtime</span> <span class="n">Error</span><span class="p">:</span>
<span class="n">cannot</span> <span class="n">concatenate</span> <span class="s1">&#39;str&#39;</span> <span class="ow">and</span> <span class="s1">&#39;int&#39;</span> <span class="n">objects</span>
<span class="o">&lt;</span><span class="n">StdInput</span><span class="o">&gt;</span>
     <span class="s1">&#39;1&#39;</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
<p>but you can add an integer and a float:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="mi">1</span> <span class="o">+</span> <span class="mf">2.5</span>
<span class="mf">3.5</span>
</pre></div>
</div>
<p>and you can multiply a string by an integer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="s1">&#39;string&#39;</span> <span class="o">*</span> <span class="mi">2</span>
<span class="s1">&#39;stringstring&#39;</span>
</pre></div>
</div>
<p>Larch has special variables for boolean or logical operations: <code class="docutils literal notranslate"><span class="pre">True</span></code> and
<code class="docutils literal notranslate"><span class="pre">False</span></code>.  These are equal to 1 and 0, respectively, but are mostly used
in logical operations, which include operators ‘and’, ‘or’, and ‘not’, as
well as comparison operators ‘&gt;’, ‘&gt;=’, ‘&lt;’, ‘&lt;=’, ‘==’, ‘!=’, and ‘is’.
Note that ‘is’ expresses identity, which is a slightly stricter test than
‘==’ (equality), and is most useful for complex objects.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="mi">2</span> <span class="o">&gt;</span> <span class="mi">3</span>
<span class="kc">False</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="p">(</span><span class="n">b</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">b</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">)</span>
<span class="kc">True</span>
</pre></div>
</div>
<p>The special value <code class="docutils literal notranslate"><span class="pre">None</span></code> is used as a null value throughout Larch and
Python.</p>
<p>Finally, Larch knows about complex numbers, using a ‘j’ to indicate the
imaginary part of the number:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="ne">Warning</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">value</span> <span class="n">encountered</span> <span class="ow">in</span> <span class="n">sqrt</span>
<span class="n">nan</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">+</span><span class="mi">0</span><span class="n">j</span><span class="p">)</span>
<span class="mi">1</span><span class="n">j</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="mi">1</span><span class="n">j</span><span class="o">*</span><span class="mi">1</span><span class="n">j</span>
<span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">+</span><span class="mi">0</span><span class="n">j</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span><span class="n">j</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="p">(</span><span class="mf">1.2984575814159773</span><span class="o">+</span><span class="mf">0.63496391478473613</span><span class="n">j</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">imag</span><span class="p">)</span>
<span class="mf">0.63496391478473613</span>
</pre></div>
</div>
<p>To be clear, all these primitive data types in Larch are derived from the
corresponding Python objects, so you can consult python documentation for
further details and notes.</p>
</section>
<section id="objects-and-groups">
<h2><span class="section-number">10.2.2. </span>Objects and Groups<a class="headerlink" href="#objects-and-groups" title="Link to this heading">¶</a></h2>
<p>Since Larch is built upon Python, an object-oriented programming language,
all named quantities or <strong>variables</strong> in Larch are python objects.  Because
of this, most Larch variables come with built-in functionality derived from
their python objects. Though Larch does not provide a way for the user to
define their own new objects, objects created in Python this can be used by
Larch, so that extensions and plugins for Larch can define new classes of
object types.</p>
<section id="objects">
<h3><span class="section-number">10.2.2.1. </span>Objects<a class="headerlink" href="#objects" title="Link to this heading">¶</a></h3>
<p>All Larch variables are Python objects, and so have a well-defined <strong>type</strong>
and a set of <strong>attributes</strong> and <strong>methods</strong> that go with it.   To see the
Python type of any variable, use the builtin <a class="reference internal" href="builtins.html#type" title="type"><code class="xref py py-func docutils literal notranslate"><span class="pre">type()</span></code></a> function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="o">&lt;</span><span class="nb">type</span> <span class="s1">&#39;int&#39;</span><span class="o">&gt;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
<span class="o">&lt;</span><span class="nb">type</span> <span class="s1">&#39;str&#39;</span><span class="o">&gt;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span>
<span class="o">&lt;</span><span class="nb">type</span> <span class="s1">&#39;float&#39;</span><span class="o">&gt;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">0</span><span class="n">j</span><span class="p">)</span>
<span class="o">&lt;</span><span class="nb">type</span> <span class="s1">&#39;complex&#39;</span><span class="o">&gt;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="n">sin</span><span class="p">)</span>
<span class="o">&lt;</span><span class="nb">type</span> <span class="s1">&#39;numpy.ufunc&#39;</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The attributes and methods differ for each type of object, but are all
accessed the same way – with a ‘.’ (dot) separating the variable name or
value from the name of the attribute or method.  As above, complex data
have <code class="xref py py-attr docutils literal notranslate"><span class="pre">real</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">imag</span></code> attributes for the real and imaginary
parts, which can be accessed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">1</span><span class="n">j</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="p">(</span><span class="mf">1.2984575814159773</span><span class="o">+</span><span class="mf">0.63496391478473613</span><span class="n">j</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">imag</span><span class="p">)</span>
<span class="mf">0.63496391478473613</span>
</pre></div>
</div>
<p>Methods are attributes of an object that happen to be callable as a
function.  Since they belong to to an object, they know about the data and
other attributes in that object.  To call a method or function, simply add
parentheses ‘()’ after its name, possibly with arguments inside the
parentheses to change the methods behavior.  For example, a complex number
has a <code class="xref py py-meth docutils literal notranslate"><span class="pre">conjugate()</span></code> method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">conjugate</span>
<span class="o">&lt;</span><span class="n">built</span><span class="o">-</span><span class="ow">in</span> <span class="n">method</span> <span class="n">conjugate</span> <span class="n">of</span> <span class="nb">complex</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x178e54b8</span><span class="o">&gt;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="p">(</span><span class="mf">1.2984575814159773</span><span class="o">-</span><span class="mf">0.63496391478473613</span><span class="n">j</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that just using <code class="docutils literal notranslate"><span class="pre">x.conjugate</span></code> returns the method itself, while using
<code class="docutils literal notranslate"><span class="pre">x.conjugate()</span></code> actually runs the method.  It’s fair to ask why <code class="docutils literal notranslate"><span class="pre">real</span></code>
and <code class="docutils literal notranslate"><span class="pre">imag</span></code> are simple attributes of complex number object while
<code class="docutils literal notranslate"><span class="pre">conjugate</span></code> is a method that must be called.  In general, the idea is
that simple attributes are static data belonging to the object, while a
method is something that has to be computed.  These rules are not fixed,
however, and it is sometimes a matter of knowing which attributes are
callable methods.</p>
<p>Many data types have their own attribues and methods.  As we’ll see below,
strings have many attributes and methods, as do the container objects
(list, array, tuple, dictionary) we’ll see shortly.</p>
<p>To get a listing of all the attributes and methods of a object, use the
builtin <a class="reference internal" href="builtins.html#dir" title="dir"><code class="xref py py-func docutils literal notranslate"><span class="pre">dir()</span></code></a> function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="nb">dir</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;__abs__&#39;</span><span class="p">,</span> <span class="s1">&#39;__add__&#39;</span><span class="p">,</span> <span class="s1">&#39;__and__&#39;</span><span class="p">,</span> <span class="s1">&#39;__class__&#39;</span><span class="p">,</span> <span class="s1">&#39;__cmp__&#39;</span><span class="p">,</span> <span class="s1">&#39;__coerce__&#39;</span><span class="p">,</span> <span class="s1">&#39;__delattr__&#39;</span><span class="p">,</span> <span class="s1">&#39;__div__&#39;</span><span class="p">,</span> <span class="s1">&#39;__divmod__&#39;</span><span class="p">,</span> <span class="s1">&#39;__doc__&#39;</span><span class="p">,</span> <span class="s1">&#39;__float__&#39;</span><span class="p">,</span> <span class="s1">&#39;__floordiv__&#39;</span><span class="p">,</span> <span class="s1">&#39;__format__&#39;</span><span class="p">,</span> <span class="s1">&#39;__getattribute__&#39;</span><span class="p">,</span> <span class="s1">&#39;__getnewargs__&#39;</span><span class="p">,</span> <span class="s1">&#39;__hash__&#39;</span><span class="p">,</span> <span class="s1">&#39;__hex__&#39;</span><span class="p">,</span> <span class="s1">&#39;__index__&#39;</span><span class="p">,</span> <span class="s1">&#39;__init__&#39;</span><span class="p">,</span> <span class="s1">&#39;__int__&#39;</span><span class="p">,</span> <span class="s1">&#39;__invert__&#39;</span><span class="p">,</span> <span class="s1">&#39;__long__&#39;</span><span class="p">,</span> <span class="s1">&#39;__lshift__&#39;</span><span class="p">,</span> <span class="s1">&#39;__mod__&#39;</span><span class="p">,</span> <span class="s1">&#39;__mul__&#39;</span><span class="p">,</span> <span class="s1">&#39;__neg__&#39;</span><span class="p">,</span> <span class="s1">&#39;__new__&#39;</span><span class="p">,</span> <span class="s1">&#39;__nonzero__&#39;</span><span class="p">,</span> <span class="s1">&#39;__oct__&#39;</span><span class="p">,</span> <span class="s1">&#39;__or__&#39;</span><span class="p">,</span> <span class="s1">&#39;__pos__&#39;</span><span class="p">,</span> <span class="s1">&#39;__pow__&#39;</span><span class="p">,</span> <span class="s1">&#39;__radd__&#39;</span><span class="p">,</span> <span class="s1">&#39;__rand__&#39;</span><span class="p">,</span> <span class="s1">&#39;__rdiv__&#39;</span><span class="p">,</span> <span class="s1">&#39;__rdivmod__&#39;</span><span class="p">,</span> <span class="s1">&#39;__reduce__&#39;</span><span class="p">,</span> <span class="s1">&#39;__reduce_ex__&#39;</span><span class="p">,</span> <span class="s1">&#39;__repr__&#39;</span><span class="p">,</span> <span class="s1">&#39;__rfloordiv__&#39;</span><span class="p">,</span> <span class="s1">&#39;__rlshift__&#39;</span><span class="p">,</span> <span class="s1">&#39;__rmod__&#39;</span><span class="p">,</span> <span class="s1">&#39;__rmul__&#39;</span><span class="p">,</span> <span class="s1">&#39;__ror__&#39;</span><span class="p">,</span> <span class="s1">&#39;__rpow__&#39;</span><span class="p">,</span> <span class="s1">&#39;__rrshift__&#39;</span><span class="p">,</span> <span class="s1">&#39;__rshift__&#39;</span><span class="p">,</span> <span class="s1">&#39;__rsub__&#39;</span><span class="p">,</span> <span class="s1">&#39;__rtruediv__&#39;</span><span class="p">,</span> <span class="s1">&#39;__rxor__&#39;</span><span class="p">,</span> <span class="s1">&#39;__setattr__&#39;</span><span class="p">,</span> <span class="s1">&#39;__sizeof__&#39;</span><span class="p">,</span> <span class="s1">&#39;__str__&#39;</span><span class="p">,</span> <span class="s1">&#39;__sub__&#39;</span><span class="p">,</span> <span class="s1">&#39;__subclasshook__&#39;</span><span class="p">,</span> <span class="s1">&#39;__truediv__&#39;</span><span class="p">,</span> <span class="s1">&#39;__trunc__&#39;</span><span class="p">,</span> <span class="s1">&#39;__xor__&#39;</span><span class="p">,</span> <span class="s1">&#39;conjugate&#39;</span><span class="p">,</span> <span class="s1">&#39;denominator&#39;</span><span class="p">,</span> <span class="s1">&#39;imag&#39;</span><span class="p">,</span> <span class="s1">&#39;numerator&#39;</span><span class="p">,</span> <span class="s1">&#39;real&#39;</span><span class="p">]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">dir</span><span class="p">(</span><span class="s1">&#39;a string&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;__add__&#39;</span><span class="p">,</span> <span class="s1">&#39;__class__&#39;</span><span class="p">,</span> <span class="s1">&#39;__contains__&#39;</span><span class="p">,</span> <span class="s1">&#39;__delattr__&#39;</span><span class="p">,</span> <span class="s1">&#39;__doc__&#39;</span><span class="p">,</span> <span class="s1">&#39;__eq__&#39;</span><span class="p">,</span> <span class="s1">&#39;__format__&#39;</span><span class="p">,</span> <span class="s1">&#39;__ge__&#39;</span><span class="p">,</span> <span class="s1">&#39;__getattribute__&#39;</span><span class="p">,</span> <span class="s1">&#39;__getitem__&#39;</span><span class="p">,</span> <span class="s1">&#39;__getnewargs__&#39;</span><span class="p">,</span> <span class="s1">&#39;__getslice__&#39;</span><span class="p">,</span> <span class="s1">&#39;__gt__&#39;</span><span class="p">,</span> <span class="s1">&#39;__hash__&#39;</span><span class="p">,</span> <span class="s1">&#39;__init__&#39;</span><span class="p">,</span> <span class="s1">&#39;__le__&#39;</span><span class="p">,</span> <span class="s1">&#39;__len__&#39;</span><span class="p">,</span> <span class="s1">&#39;__lt__&#39;</span><span class="p">,</span> <span class="s1">&#39;__mod__&#39;</span><span class="p">,</span> <span class="s1">&#39;__mul__&#39;</span><span class="p">,</span> <span class="s1">&#39;__ne__&#39;</span><span class="p">,</span> <span class="s1">&#39;__new__&#39;</span><span class="p">,</span> <span class="s1">&#39;__reduce__&#39;</span><span class="p">,</span> <span class="s1">&#39;__reduce_ex__&#39;</span><span class="p">,</span> <span class="s1">&#39;__repr__&#39;</span><span class="p">,</span> <span class="s1">&#39;__rmod__&#39;</span><span class="p">,</span> <span class="s1">&#39;__rmul__&#39;</span><span class="p">,</span> <span class="s1">&#39;__setattr__&#39;</span><span class="p">,</span> <span class="s1">&#39;__sizeof__&#39;</span><span class="p">,</span> <span class="s1">&#39;__str__&#39;</span><span class="p">,</span> <span class="s1">&#39;__subclasshook__&#39;</span><span class="p">,</span> <span class="s1">&#39;_formatter_field_name_split&#39;</span><span class="p">,</span> <span class="s1">&#39;_formatter_parser&#39;</span><span class="p">,</span> <span class="s1">&#39;capitalize&#39;</span><span class="p">,</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="s1">&#39;decode&#39;</span><span class="p">,</span> <span class="s1">&#39;encode&#39;</span><span class="p">,</span> <span class="s1">&#39;endswith&#39;</span><span class="p">,</span> <span class="s1">&#39;expandtabs&#39;</span><span class="p">,</span> <span class="s1">&#39;find&#39;</span><span class="p">,</span> <span class="s1">&#39;format&#39;</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="s1">&#39;isalnum&#39;</span><span class="p">,</span> <span class="s1">&#39;isalpha&#39;</span><span class="p">,</span> <span class="s1">&#39;isdigit&#39;</span><span class="p">,</span> <span class="s1">&#39;islower&#39;</span><span class="p">,</span> <span class="s1">&#39;isspace&#39;</span><span class="p">,</span> <span class="s1">&#39;istitle&#39;</span><span class="p">,</span> <span class="s1">&#39;isupper&#39;</span><span class="p">,</span> <span class="s1">&#39;join&#39;</span><span class="p">,</span> <span class="s1">&#39;ljust&#39;</span><span class="p">,</span> <span class="s1">&#39;lower&#39;</span><span class="p">,</span> <span class="s1">&#39;lstrip&#39;</span><span class="p">,</span> <span class="s1">&#39;partition&#39;</span><span class="p">,</span> <span class="s1">&#39;replace&#39;</span><span class="p">,</span> <span class="s1">&#39;rfind&#39;</span><span class="p">,</span> <span class="s1">&#39;rindex&#39;</span><span class="p">,</span> <span class="s1">&#39;rjust&#39;</span><span class="p">,</span> <span class="s1">&#39;rpartition&#39;</span><span class="p">,</span> <span class="s1">&#39;rsplit&#39;</span><span class="p">,</span> <span class="s1">&#39;rstrip&#39;</span><span class="p">,</span> <span class="s1">&#39;split&#39;</span><span class="p">,</span> <span class="s1">&#39;splitlines&#39;</span><span class="p">,</span> <span class="s1">&#39;startswith&#39;</span><span class="p">,</span> <span class="s1">&#39;strip&#39;</span><span class="p">,</span> <span class="s1">&#39;swapcase&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;translate&#39;</span><span class="p">,</span> <span class="s1">&#39;upper&#39;</span><span class="p">,</span> <span class="s1">&#39;zfill&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Again, we’ll see properties of objects below, as we look into more
interesting data types, or you can look into Python documentation.</p>
</section>
<section id="groups">
<h3><span class="section-number">10.2.2.2. </span>Groups<a class="headerlink" href="#groups" title="Link to this heading">¶</a></h3>
<p>While all values in Larch are Python objects, Larch organizes data into
Groups, which are a key concept to Larch.  A Group is simply a named
container for variables of any kind, including other Groups.  As Larch
doesn’t directly provide a way to definie your own objects, a Group is the
way to organize your data in Larch.  The organization of data with nested
Groups provides a heirarchical structure to all data in a Larch session,
much like a directory of files.  Each Larch variable belongs to a Group,
and can always be accessed by its full Group name.  The top-level Group is
called ‘_main’.  You’ll rarely need to use that fact, but it’s there:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">myvar</span> <span class="o">=</span> <span class="mf">22.13</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">_main</span><span class="o">.</span><span class="n">myvar</span><span class="p">)</span>
<span class="mf">22.13</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">myvar</span><span class="p">)</span>
<span class="mf">22.13</span>
</pre></div>
</div>
<p>You can create your own groups and add data to it with the builtin
<a class="reference internal" href="builtins.html#group" title="group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">group()</span></code></a> function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">group</span><span class="p">()</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">g</span>
<span class="o">&lt;</span><span class="n">Group</span> <span class="mh">0x17ee50f0</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>You can add variables to your Group ‘g’, using the ‘.’ (dot) to separate
the parent group from the child object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1002.8</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;here is a string&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">g</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">x</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span>
<span class="mf">200.56</span>
</pre></div>
</div>
<p>(<code class="xref py py-func docutils literal notranslate"><span class="pre">arange()</span></code> is a builtin function to create an array of numbers).  As
from the above discussion of objects, the ‘.’ (dot) notation implies that
‘x’, ‘label’, and ‘data’ are attributes of ‘g’ – that’s entirely correct.</p>
<p>Groups have 1 builtin property – <code class="docutils literal notranslate"><span class="pre">__name__</span></code> which holds a name for the
Group. If not specified, it will be set to a hexidecimal value.  Groups
have no other builtin properties or methods.  Since they’re objects, you
can use the <a class="reference internal" href="builtins.html#dir" title="dir"><code class="xref py py-func docutils literal notranslate"><span class="pre">dir()</span></code></a> function as above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="nb">dir</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>(Note that the order shown may vary).  You can also use the builtin
<a class="reference internal" href="builtins.html#show" title="show"><code class="xref py py-func docutils literal notranslate"><span class="pre">show()</span></code></a> function to get a slightly more complete view of the group’s
contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">show</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="o">==</span> <span class="n">Group</span> <span class="mh">0x1b8cbfb0</span><span class="p">:</span> <span class="mi">3</span> <span class="n">symbols</span> <span class="o">==</span>
  <span class="n">data</span><span class="p">:</span> <span class="n">array</span><span class="o">&lt;</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,),</span> <span class="nb">type</span><span class="o">=</span><span class="n">dtype</span><span class="p">(</span><span class="s1">&#39;int32&#39;</span><span class="p">)</span><span class="o">&gt;</span>
  <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;here is a string&#39;</span>
  <span class="n">x</span><span class="p">:</span> <span class="mf">1002.8</span>
</pre></div>
</div>
<p>(The ‘0x1b8cbfb0’ is the default name, discussed in more detail below in
<a class="reference internal" href="#tutor-objectids-sec"><span class="std std-ref">Object identities, copying, and equality vs. identity</span></a>).  The <a class="reference internal" href="builtins.html#group" title="group"><code class="xref py py-func docutils literal notranslate"><span class="pre">group()</span></code></a> function can take arguments
of attribute names and values, so that this group could have been created
with a single call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">group</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">1002.8</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;here is a string&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
</pre></div>
</div>
<p>Many Larch functions act on groups, either returning groups, expecting
groups as certain arguments, or taking a ‘group’ argument to write data
into.  For example, the built-in functions that read data from an external
files will likely organize that data into a group and that group perhaps
something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">cu</span> <span class="o">=</span> <span class="n">read_ascii</span><span class="p">(</span><span class="s1">&#39;cu_150k.xmu&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="builtin-larch-groups">
<h3><span class="section-number">10.2.2.3. </span>Builtin Larch Groups<a class="headerlink" href="#builtin-larch-groups" title="Link to this heading">¶</a></h3>
<p>Larch starts up with several groups, organizing builtin functionality into
different groups.  The top-level ‘_main’ group begins with 3 principle
subgroups, ‘_builtin’, ‘_sys’, and ‘_math’ for basic functionality.  For
almost all uses of Larch, several additional groups are created for more
specific functionality are created on startup by Larch plugins.  The
principle starting groups are describe in
<a class="reference internal" href="#tutor-topgroups-table"><span class="std std-ref">Table of Basic Larch Groups</span></a></p>
<blockquote id="tutor-topgroups-table">
<span id="index-0"></span><div><blockquote>
<div><p>Table of Basic Larch Groups.  These groups are listed in order of how
they will be searched for functions and data.</p>
</div></blockquote>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Group Name</strong></p></th>
<th class="head"><p><strong>description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>_builtin</p></td>
<td><p>basic builtin functions.</p></td>
</tr>
<tr class="row-odd"><td><p>_math</p></td>
<td><p>mathematical and array functions.</p></td>
</tr>
<tr class="row-even"><td><p>_sys</p></td>
<td><p>larch system-wide variables.</p></td>
</tr>
<tr class="row-odd"><td><p>_io</p></td>
<td><p>file input/output functions.</p></td>
</tr>
<tr class="row-even"><td><p>_plotter</p></td>
<td><p>plotting and image display functions.</p></td>
</tr>
<tr class="row-odd"><td><p>_xafs</p></td>
<td><p>XAFS-specific functions.</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The functions in ‘_builtin’  are mostly inherited from Python’s own
built-in functions.  The functions in ‘_math’ are mostly inherited from
Numpy, and contain basic array handling and math.</p>
</section>
<section id="how-larch-finds-variable-names">
<h3><span class="section-number">10.2.2.4. </span>How Larch finds variable names<a class="headerlink" href="#how-larch-finds-variable-names" title="Link to this heading">¶</a></h3>
<p>With several builtin groups, and even more groups created to store your own
data to be processed, Larch ends up with a complex heirarchy of data.  This
gives a good way of organizing data, but it also leads to a question of how
variable names are found.  Of course, you can always access a function or
data object by its full name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">_math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">_math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
<span class="mf">1.0</span>
</pre></div>
</div>
<p>but that’s too painful to use, and of course, one needs to be able to do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
<span class="mf">1.0</span>
</pre></div>
</div>
<p>and have Larch know that when you say <code class="xref py py-func docutils literal notranslate"><span class="pre">sin()</span></code>, you mean
<code class="xref py py-func docutils literal notranslate"><span class="pre">_math.sin()</span></code>.  The way this look-up of names works is that Larch keeps
a list of groups that it will search through for names.  This list is held
in the variable <code class="xref py py-data docutils literal notranslate"><span class="pre">_sys.searchGroups</span></code>, and can be viewed and modified
during a Lach session.  On startup, this list has the groups listed in
<a class="reference internal" href="#tutor-topgroups-table"><span class="std std-ref">Table of Basic Larch Groups</span></a>, in the order
shown.  To be clear, if there was a variable named <code class="xref py py-data docutils literal notranslate"><span class="pre">_sys.something</span></code>
and a <code class="xref py py-data docutils literal notranslate"><span class="pre">_math.something</span></code>, typing ‘something’ would resolve to
<code class="xref py py-data docutils literal notranslate"><span class="pre">_sys.something</span></code>, and to access <code class="xref py py-data docutils literal notranslate"><span class="pre">_math.something</span></code> you would
have to give the full name.   For the builtin functions and variables, such
clashes are not so likely, but they are likely if you read in many data
sets as groups, and want to access the contents of the different groups.</p>
</section>
</section>
<section id="more-complex-data-structures-lists-arrays-dictionaries">
<h2><span class="section-number">10.2.3. </span>More Complex Data Structures:  Lists, Arrays, Dictionaries<a class="headerlink" href="#more-complex-data-structures-lists-arrays-dictionaries" title="Link to this heading">¶</a></h2>
<p>Larch has many more data types built on top of the primitive types above.
These are generally useful for storing collections of data, and can be
built up to construct very complex structures.  These are all described in
some detail here.  But as these are all closely related to Python objects,
further details can be found in the standard Python documentation.</p>
<section id="lists">
<h3><span class="section-number">10.2.3.1. </span>Lists<a class="headerlink" href="#lists" title="Link to this heading">¶</a></h3>
<p>A list is an ordered sequence of other data types.  They are
<strong>heterogeneous</strong> – they can be made up of data with different types.  A
list is constructed using brackets, with commas to separate the
individual:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list2</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">7</span><span class="p">)]</span>
</pre></div>
</div>
<p>A list can contain a list as one of its elements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">nested_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">]]]</span>
</pre></div>
</div>
<p>You can access the elements of a list using brackets and the integer index
(starting from 0):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">my_list2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="s1">&#39;string&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">nested_list</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">]]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">nested_list</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<span class="s1">&#39;c&#39;</span>
</pre></div>
</div>
<p>Lists are <strong>mutable</strong> – they can be changed, in place.   To do this, you
can replace an element in a list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;hello&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list1</span>
<span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<p>As above, lists are python <strong>objects</strong>, and so come with methods for
interacting with them.  For example, you can also change a list by
appending to it with the ‘append’ method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;number 4, the larch&#39;</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list1</span>
<span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;number 4, the larch&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>All lists will have an ‘append’ method, as well as several others:</p>
<blockquote>
<div><ul class="simple">
<li><p>append – add an element to the end of the list</p></li>
<li><p>count – to return the number of times a particular element occurs in the list</p></li>
<li><p>extend – to extend a list with another list</p></li>
<li><p>index – to find the first occurance of an element</p></li>
<li><p>insert – to insert an element in a particular place.</p></li>
<li><p>pop – to remove and return the last element (or other specified index).</p></li>
<li><p>remove – remove a particular element</p></li>
<li><p>reverse – reverse the order of elements</p></li>
<li><p>sort – sort the elements.</p></li>
</ul>
</div></blockquote>
<p>Note that the methods that change the list do so <em>IN PLACE</em> and return
<code class="docutils literal notranslate"><span class="pre">None</span></code>.  That is, to sort a list (alphabetically by default, or with an
optional custom comparison function passed in), do this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</pre></div>
</div>
<p>but not this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span> <span class="o">=</span> <span class="n">my_list</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>  <span class="c1"># WRONG!!</span>
</pre></div>
</div>
<p>as that will sort the list, then happily set ‘my_list’ to None.</p>
<p>You can get the length of a list with the built-in <a class="reference internal" href="builtins.html#len" title="len"><code class="xref py py-func docutils literal notranslate"><span class="pre">len()</span></code></a> function,
and test whether a particular element is in a list with the <cite>in</cite> operator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;j&#39;</span><span class="p">]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">my_list</span><span class="p">))</span>
<span class="mi">10</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="s1">&#39;e&#39;</span> <span class="ow">in</span> <span class="n">my_list</span>
<span class="kc">True</span>
</pre></div>
</div>
<p>You can access a sub-selection of elements with a <strong>slice</strong>, giving starting
and ending indices between brackets, separated by a colon.  Of course, the counting
for a slice starts at 0. It also excludesthe final index:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>   <span class="c1"># Note implied 0!</span>
<span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>You can count backwards, and using ‘-1’ is a convenient way to get the last
element of a list.  You can also add an optional third value to the slice for a step:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="s1">&#39;j&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span>
<span class="p">[</span><span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;j&#39;</span><span class="p">]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># every other element, starting at 0</span>
<span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># every other element, starting at 1</span>
<span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;j&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>A final important property of lists, and of basic variable creation in
Larch (and Python) is related to the discussion above about variable
creation and assignment.  There we said that ‘creating a variable’:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;j&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>was best thought of as creating a value (here, the
literal list “[‘a’, ‘b’, …, ‘j’]”) and then assigning the name ‘my_list’
to point to that value.  Here’s why we make that distinction.   If you
now say:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">your_list</span> <span class="o">=</span> <span class="n">my_list</span>
</pre></div>
</div>
<p>the variable ‘your_list’ now points to the same value – the same list.
That is, it does not make a copy of the list. Since the list is mutable,
changing ‘your_list’ will also change ‘my_list’:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">your_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span>
<span class="p">[</span><span class="mi">500</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>                <span class="c1"># changed!!</span>
</pre></div>
</div>
<p>You can make a copy of a list, by selecting a full slice:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">your_list</span> <span class="o">=</span> <span class="n">my_list</span><span class="p">[:]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">your_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.2444</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">my_list</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span>
<span class="p">[</span><span class="mi">500</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>                 <span class="c1"># now unchanged</span>

<span class="n">larch</span><span class="o">&gt;</span> <span class="n">your_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">my_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="kc">False</span>
</pre></div>
</div>
<p>Note that this behavior doesn’t happen for immutable data types, including
the more primitive data types such as integers, floats and strings.  This
is essentially because you cannot assign to parts of those data types, only
set its entire value.</p>
<p>As always, consult the Python documentation for more details.</p>
</section>
<section id="tuples">
<h3><span class="section-number">10.2.3.2. </span>Tuples<a class="headerlink" href="#tuples" title="Link to this heading">¶</a></h3>
<p>Like lists, tuples are sequences of heterogenous objects.  The principle
difference is that tuples are <strong>immutable</strong> – they cannot be changed once
they are created.  Instead, tuples are a simple ordered container of data.
The syntax for tuples uses comma separated values inside (optional!)
parentheses in place of brackets:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">,</span> <span class="s1">&#39;hydrogen&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Like lists, tuples can be indexed and sliced:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_tuple</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;H&#39;</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">my_tuple</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="s1">&#39;hydrogen&#39;</span>
</pre></div>
</div>
<p>Due to their immutability, tuples have only a few methods (‘count’ and
‘index’ with similar functionality as for list).</p>
<p>Though tuples they may seem less powerful than lists, and they are actually
used widely with Larch and Python.  In addition to the example above using
a tuple for a short, fixed data structure, many functions will return a
tuple of values.  For this case, the simplicity an immutability of tuples
is a strength becaues, once created, a tuple has a predictable size and
order to its elements, which is not true for lists.  That is, if a larch
procedure (which we’ll see more of below) returns two values as a tuple:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="k">def</span><span class="w"> </span><span class="nf">sumdiff</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="o">.....&gt;</span>     <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">-</span><span class="n">y</span>
<span class="o">.....&gt;</span> <span class="n">enddef</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">sumdiff</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="mi">5</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Because the returned tuple has a fixed structure, you can also assign
the it directly to a set of (the correct number of) variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">plus</span><span class="p">,</span> <span class="n">minus</span> <span class="o">=</span> <span class="n">sumdiff</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">plus</span><span class="p">,</span> <span class="n">minus</span><span class="p">)</span>
<span class="mi">13</span> <span class="mi">7</span>
</pre></div>
</div>
</section>
<section id="a-second-look-at-strings">
<h3><span class="section-number">10.2.3.3. </span>A second look at Strings<a class="headerlink" href="#a-second-look-at-strings" title="Link to this heading">¶</a></h3>
<p>Though discussed earlier in the basic data types, strings are closely
related to lists as well – they are best thought of as a sequence of
characters.  Like tuples, strings are actually immutable, in that you
cannot change part of a string, instead you must create a new string.
Strings can be indexed and sliced as with lists and tuples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Montaigne&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">name</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span>
<span class="s1">&#39;Mont&#39;</span>
</pre></div>
</div>
<p>Strings have many methods – over 30 of them, in fact.  To convert a string
to lower case, use its <code class="xref py py-meth docutils literal notranslate"><span class="pre">lower()</span></code> method, and so on:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="s1">&#39;Here is a String&#39;</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="s1">&#39;here is a string&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="s1">&#39;Here is a String&#39;</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="s1">&#39;HERE IS A STRING&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="s1">&#39;Here is a String&#39;</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
<span class="s1">&#39;Here Is A String&#39;</span>
</pre></div>
</div>
<p>This aslo shows that the methods are associated with strings themselves –
even literal strings, and simply with variable names.</p>
<p>Strings can be split into words with the <code class="xref py py-meth docutils literal notranslate"><span class="pre">split()</span></code> method, which splits
a string on whitespace by default, but can take an argument to change the
character (or substring) to use to split the string:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="s1">&#39;Here is a String&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="p">[</span><span class="s1">&#39;Here&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;String&#39;</span><span class="p">]</span>

<span class="n">larch</span><span class="o">&gt;</span> <span class="s1">&#39;Here is a String&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;Here &#39;</span><span class="p">,</span> <span class="s1">&#39;s a Str&#39;</span><span class="p">,</span> <span class="s1">&#39;ng&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>As above, this is really only touching the tip of the iceberg of string
functionality, and consulting standard Python documentation is recommended
for more information.</p>
</section>
<section id="arrays">
<h3><span class="section-number">10.2.3.4. </span>Arrays<a class="headerlink" href="#arrays" title="Link to this heading">¶</a></h3>
<p>Whereas lists are sequences of heterogeneous objects that can grow and
shrink, and included deeply nested structures, they are not well suited for
holding numerical data.  Arrays are sequences of the same primitive data
type, and so are much closer to arrays in C or Fortran.  This makes them
much more suitable for numeric calculations, and so are extremely important
in Larch.  There are many ways to create arrays, including the builtin
<code class="xref py py-func docutils literal notranslate"><span class="pre">array()</span></code> function which will attempt to convert a list or tuple of
numbers into an Array.  You can also use the builtin <code class="xref py py-func docutils literal notranslate"><span class="pre">arange()</span></code>
function to create an ordered sequence of indices ([1, 2, 3, …]), or one
of several other methods to create arrays.</p>
<p>Arrays are so important for processing numerical data that the next section
is devoted to them.</p>
</section>
<section id="dictionaries">
<h3><span class="section-number">10.2.3.5. </span>Dictionaries<a class="headerlink" href="#dictionaries" title="Link to this heading">¶</a></h3>
<p>Our final basic data-structure is the dictionary, which is a container that
maps values to keys.  This is sometimes called a hash or associative array.
Like a list, a dictionary holds many heterogeneous values, and can be
altered in place.  Unlike a list, the elements of a dictionary have no
guaranteed order, and are not selected by integer index, and multiple
values cannot be selected by a slice.  Instead, the elements of a
dictionary are accessed by key, which is normally a string, but can also be
an integer or floating point number, or even a tuple or some other objects
– any <strong>immutable</strong> object can be used.   Dictionaries are delimited by
curly braces, with colons (‘:’) separating key and value, and commas
separating different elements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">atomic_weight</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">1.008</span><span class="p">,</span> <span class="s1">&#39;He&#39;</span><span class="p">:</span> <span class="mf">4.0026</span><span class="p">,</span> <span class="s1">&#39;Li&#39;</span><span class="p">:</span> <span class="mf">6.9</span><span class="p">,</span> <span class="s1">&#39;Be&#39;</span><span class="p">:</span> <span class="mf">9.012</span><span class="p">}</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">atomic_weight</span><span class="p">[</span><span class="s1">&#39;He&#39;</span><span class="p">])</span>
<span class="mf">4.0026</span>
</pre></div>
</div>
<p>You can also add more elements to a dictionary by assigning to a new key:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">atomic_weight</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="mf">10.811</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">atomic_weight</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="mf">12.01</span>
</pre></div>
</div>
<p>Dictionaries have several methods.  These include</p>
<blockquote>
<div><ul class="simple">
<li><p>clear – remove all elements from a dictionary.</p></li>
<li><p>copy – make a copy of a dictionary.</p></li>
<li><p>get – get an element by name.</p></li>
<li><p>has_key – return whether a dictionary has a key.</p></li>
<li><p>items – return a list of (key, value) tuples</p></li>
<li><p>keys  – return a list of keys.</p></li>
<li><p>values – return a list of values.</p></li>
<li><p>pop – remove an element by key, return the value.</p></li>
<li><p>popitem – remove the “next” item, return (key, value)</p></li>
<li><p>update – add or overwrite items from another dictionary.</p></li>
</ul>
</div></blockquote>
<p>For example:</p>
<blockquote>
<div><p>larch&gt; atomic_weight.keys()
[‘Be’, ‘C’, ‘B’, ‘H’, ‘Li’, ‘He’]
larch&gt; atomic_weight.values()
[9.0120000000000005, 12.01, 10.811, 1.008, 6.9000000000000004, 4.0026000000000002]</p>
</div></blockquote>
<p>Note that the keys and values are not in the order they were entered.  If
you add more elements to the dictionary, the new order can be unrelated to
the old order.  What is guaranteed is that the order of the list of keys
will always match the order of the list of values.</p>
<p>As with lists, dictionaries are mutable, and the values in a dictionary can
be any object, including other lists and dictionaries, so that a dictionary
can end up with a very complex structure.  Dictionaries are quite useful,
and are in fact used throughout python.</p>
</section>
</section>
<section id="object-identities-copying-and-equality-vs-identity">
<span id="tutor-objectids-sec"></span><h2><span class="section-number">10.2.4. </span>Object identities, copying, and equality vs. identity<a class="headerlink" href="#object-identities-copying-and-equality-vs-identity" title="Link to this heading">¶</a></h2>
<p>OK, this may be a bit advanced for a section in a <em>tutorial</em>, but there are
a few important topics we need to make about objects, groups, and the idea
of <em>mutability</em> discussed above.  Though it may at first pass seem
surprising, these points are all related, and will come up several times in
this document and in your use of Larch.  Those familiar with Fortran, C, or
Java programming may need to read this more carefully, as Larch and Python
actually work quite differently from those languages.  What we’re aiming to
cover here includes:</p>
<blockquote>
<div><ul class="simple">
<li><p>what variable assignment really means.</p></li>
<li><p>mutable and immutable objects.</p></li>
<li><p>object identity.</p></li>
<li><p>the difference between equality and identity.</p></li>
</ul>
</div></blockquote>
<p>As mentioned above, each named quantity in Larch is simply a Python object
(for the C, C++, and Java programmers, every variable is reference or
pointer).  Assignment to a Larch variable as with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">w</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;a string&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">z</span> <span class="o">=</span> <span class="n">some_function</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>first determines the <em>value</em> from the right-hand-side of the expression
(1+2, ‘a string’, a list, and the return value of some_function()) then
assigns the variable <em>name</em> (w, x, y, z) to point to the corresponding
value.  Larch doesn’t pre-assign variable names so that ‘w’ there can only
ever hold an integer – you can change not only its value but the <em>type</em> of
data its pointing to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">w</span> <span class="o">=</span> <span class="mf">3.25</span>  <span class="c1"># now a floating point number</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">w</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>  <span class="c1"># now a list</span>
</pre></div>
</div>
<p>For this reason, a variable name is best thought of as something very
different from the value it points to.  Of course, it is obvious when two
different variable names are different, because the names are different.
It is less clear whether the value the variables hold are different.</p>
<p>Values of simple types (integer, float, string, tuple, and a few other
builtin types) are said to be <strong>immutable</strong> –  the value itself cannot
change.   You can reassign a name to a different value, but:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">w</span> <span class="o">=</span> <span class="mf">3.25</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">w</span> <span class="o">=</span> <span class="mf">4.68</span>
</pre></div>
</div>
<p>doesn’t change the value of 3.25.  Assignment to simple types then can be
thought of as essentially making a fresh value for the name to point each
time an assignment is made.  This isn’t exactly true because Python sets
pre-allocates small integers so that it is not making a new integer object
every time you assign a number to 1, but it’s a reasonable approximation
for now.</p>
<p>Several object types such as lists, dictionaries, arrays, and groups, all
are meant to changeable after they are created: they are <strong>mutable</strong>.  That
is, even after creating a list, you can append an element to it or you can
remove an item from it, and so on.  These actions changes the <em>value</em> that
the object points to.  The object just points to a place in memory – this
does not have to change just because the value changes.</p>
<p>This is somewhat different than the model for variable in languages such as
C or Fortran where variables have fixed memory locations and specific types
of data they can hold.   In Python and Larch, all objects point to some
value.  For mutable data types, the value is allowed to change.  In
addition, what the object points to can also change.</p>
<p>Each object value has a unique memory location – its identity.  The
builtin <a class="reference internal" href="builtins.html#id" title="id"><code class="xref py py-func docutils literal notranslate"><span class="pre">id()</span></code></a> function returns this identity.  Two variables are said
to be <em>identical</em> if their values have the same identity – the variables
point to the same quantitiy.  Two variabales are <em>equal</em> if their values
are the same, even if these values are held in different memory locations.
And, of course, two different variables can point to the same object.</p>
<p>You can test both equality (whether two variables hold equal value) and identity
(whether two variables point to the same value).   First, the builtin
<a class="reference internal" href="builtins.html#id" title="id"><code class="xref py py-func docutils literal notranslate"><span class="pre">id()</span></code></a> function will give the identity (essentially, the memory
location) of a variable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">id</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="mi">108444568</span>
</pre></div>
</div>
<p>(the value shown will be different each time you run Larch).  Now if we
assign another variable to <code class="docutils literal notranslate"><span class="pre">x</span></code>, we can use <a class="reference internal" href="builtins.html#id" title="id"><code class="xref py py-func docutils literal notranslate"><span class="pre">id()</span></code></a> to see why changing
the value of one changes the value of the other:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">id</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="mi">108444568</span>      <span class="c1">### The same as id(x) !!</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;hello&#39;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">x</span></code> changed because it is identical to <code class="docutils literal notranslate"><span class="pre">y</span></code> and is mutable.
However, if we make another variable that happens to have the same value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">z</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="nb">id</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="mi">108399752</span>
</pre></div>
</div>
<p>Now changing an element of <code class="docutils literal notranslate"><span class="pre">z</span></code> will not change <code class="docutils literal notranslate"><span class="pre">x</span></code> or <code class="docutils literal notranslate"><span class="pre">y</span></code>.     You
can test whether two variables have equal values with the boolean operator
<cite>==</cite>.   Similarly, you can test whether two variables are identical with
the  boolean operator <cite>is</cite>.  So:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span> <span class="ow">is</span> <span class="n">y</span>
<span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">==</span> <span class="n">z</span><span class="p">,</span> <span class="n">x</span> <span class="ow">is</span> <span class="n">z</span>
<span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>If you want to make a copy of a mutable object, you can use the builtin
<a class="reference internal" href="builtins.html#copy" title="copy"><code class="xref py py-func docutils literal notranslate"><span class="pre">copy()</span></code></a> function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">q</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">q</span> <span class="o">==</span> <span class="n">z</span><span class="p">,</span> <span class="n">q</span> <span class="ow">is</span> <span class="n">z</span>
<span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Another, and very common way to make copies of lists and arrays is to
create a new value that happens to have the same value.  For a list, a very
common approach is to make a <em>full slice</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">newx</span> <span class="o">=</span> <span class="n">x</span><span class="p">[:]</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">==</span> <span class="n">newx</span><span class="p">,</span> <span class="n">x</span> <span class="ow">is</span> <span class="n">newx</span>
<span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>and for arrays, you can multiply by 1 or add 0:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">,</span> <span class="mf">6.</span><span class="p">])</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">*</span> <span class="n">a</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">a</span> <span class="ow">is</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="ow">is</span> <span class="n">c</span>
<span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that doing <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">==</span> <span class="pre">b</span></code> on arrays here would give an array of values, testing
the values element-by-element.  This will be discussed the next section.</p>
<p>Larch Groups are also mutable objects and so assignment to a group does not
make a new copy of the group but another reference to the same group:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">group</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">h</span> <span class="o">=</span> <span class="n">g</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">h</span> <span class="ow">is</span> <span class="n">g</span>
<span class="kc">True</span>
</pre></div>
</div>
<p>If ask for the group to be printed or run the <a class="reference internal" href="builtins.html#show" title="show"><code class="xref py py-func docutils literal notranslate"><span class="pre">show()</span></code></a> function on a group:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="n">g</span>
<span class="o">&lt;</span><span class="n">Group</span> <span class="mh">0x6bf17f0</span><span class="o">&gt;</span>
<span class="n">larch</span><span class="o">&gt;</span> <span class="n">show</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="o">==</span> <span class="n">Group</span> <span class="mh">0x6bf17f0</span><span class="p">:</span> <span class="mi">2</span> <span class="n">symbols</span> <span class="o">==</span>
  <span class="n">x</span><span class="p">:</span> <span class="mi">1</span>
  <span class="n">text</span><span class="p">:</span> <span class="s1">&#39;hello&#39;</span>
</pre></div>
</div>
<p>we see the hexidecimal representation of its  memory address:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">larch</span><span class="o">&gt;</span> <span class="nb">id</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="nb">hex</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">g</span><span class="p">))</span>
<span class="p">(</span><span class="mi">113186800</span><span class="p">,</span> <span class="s1">&#39;0x6bf17f0&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In practice, this issue is not as confusing as it sounds, and the model for
data, variables, and values is generally very easy to deal with.  The most
important thing to be aware of – the thing most likely to cause trouble –
is that assigning a variable to be a mutable object like a list,
dictionary, or array does not make a copy of the object, but simply creates
another variable that points to the same value.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="arrays.html" title="10.3. Basic Array Manipulation"
             >next</a> |</li>
        <li class="right" >
          <a href="start.html" title="10.1. Getting Started"
             >previous</a> |</li>
   <li>[<a href="../index.html"> Larch</a>|</li>
   <li><a href="../getting_started.html"> Getting Started</a>|</li>
   <li><a href="../xafs.html">XAFS Analysis</a>|</li>
   <li><a href="../xray.html">X-ray Databases</a>|</li>
   <li><a href="../xrf.html">XRF Analysis</a>|</li>

          <li class="nav-item nav-item-1"><a href="../larchlang.html" ><span class="section-number">10. </span>Larch Macro Language Tutorial</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">10.2. </span>Basic and Complex Data Types</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright Matthew Newville, The University of Chicago, 2022.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>