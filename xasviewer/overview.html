
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>5.1. XAS Viewer Overview &#8212; xraylarch 0.9.70 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/larchdoc.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5.2. Reading and Saving Data into XAS Viewer" href="iodata.html" />
    <link rel="prev" title="5. XASViewer" href="../xasviewer.html" />

<script async src="https://badge.dimensions.ai/badge.js" charset="utf-8"></script>

<script type="text/x-mathjax-config">
   MathJax.Hub.Config({ "TeX": {Macros: {AA : "{\\unicode{x212B}}"}}, "HTML-CSS": {scale: 90}});
</script>


  </head><body>
<div style=" color: #c5daba;  text-align: left; height:65px; padding: 0px">
<table border=0>
  <tr>
    <td width=20%>
	<a href="../index.html">
	 <img src="../_static/larchcones.png" height=50px alt="larchcones"/></a>
    </td>
    <td width=75% padding=0>
      <font size=+2>
	<a href="../index.html" style="color:#772211">
	  Larch: Data Analysis Tools for X-ray Spectroscopy
	</a>
      </font>
    </td>
   </tr></table>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="iodata.html" title="5.2. Reading and Saving Data into XAS Viewer"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../xasviewer.html" title="5. XASViewer"
             accesskey="P">previous</a> |</li>
   <li>[<a href="../index.html"> Larch</a>|</li>
   <li><a href="../getting_started.html"> Getting Started</a>|</li>
   <li><a href="../xafs.html">XAFS Analysis</a>|</li>
   <li><a href="../xray.html">X-ray Databases</a>|</li>
   <li><a href="../xrf.html">XRF Analysis</a>|</li>

          <li class="nav-item nav-item-1"><a href="../xasviewer.html" accesskey="U"><span class="section-number">5. </span>XASViewer</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">5.1. </span>XAS Viewer Overview</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">5.1. XAS Viewer Overview</a><ul>
<li><a class="reference internal" href="#data-input-and-output">5.1.1. Data Input and Output</a></li>
<li><a class="reference internal" href="#xas-data-processing-and-management">5.1.2. XAS Data Processing and Management</a></li>
<li><a class="reference internal" href="#xanes-analysis">5.1.3. XANES Analysis</a></li>
<li><a class="reference internal" href="#exafs-processing">5.1.4. EXAFS Processing</a></li>
<li><a class="reference internal" href="#exafs-modeling-with-feff">5.1.5. EXAFS Modeling with FEFF</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="../xasviewer.html"
                          title="previous chapter"><span class="section-number">5. </span>XASViewer</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="iodata.html"
                          title="next chapter"><span class="section-number">5.2. </span>Reading and Saving Data into XAS Viewer</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/xasviewer/overview.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p><span class="math notranslate nohighlight">\(\newcommand{\AA}{\unicode{x212B}}\)</span></p>
<section id="xas-viewer-overview">
<span id="xasviewer-overview"></span><h1><span class="section-number">5.1. </span>XAS Viewer Overview<a class="headerlink" href="#xas-viewer-overview" title="Permalink to this heading">¶</a></h1>
<p>The main features of XAS Viewer can be broken into a few categories.  Here
we give a brief overview, and then expand on these topics in later sections.</p>
<section id="data-input-and-output">
<h2><span class="section-number">5.1.1. </span>Data Input and Output<a class="headerlink" href="#data-input-and-output" title="Permalink to this heading">¶</a></h2>
<p>XAS Viewer can import XAS data in the following formats</p>
<blockquote>
<div><ul class="simple">
<li><p>XDI data files - the standard data format for XAS data (<a class="reference internal" href="iodata.html#xasviewer-plaintext"><span class="std std-ref">Reading Plaintext data files, including XDI</span></a>).</p></li>
<li><p>plain text data data files with data arrays in column format (<a class="reference internal" href="iodata.html#xasviewer-plaintext"><span class="std std-ref">Reading Plaintext data files, including XDI</span></a>).</p></li>
<li><p>Athena Project Files (<a class="reference internal" href="iodata.html#xasviewer-athena"><span class="std std-ref">Reading Data from Athena Project Files</span></a>).</p></li>
<li><p>ESRF Spec/BLISS HDF5 files (<a class="reference internal" href="iodata.html#xasviewer-blisshdf5"><span class="std std-ref">Reading Spec/Bliss HDF5 Data</span></a>).</p></li>
<li><p>Larch Session files (<a class="reference internal" href="iodata.html#xasviewer-sessionfiles"><span class="std std-ref">Larch Session Files and XAS Viewer</span></a>).</p></li>
</ul>
</div></blockquote>
<p>For exporting or saving data, XAS Viewer can save multiple XAS spectra as:</p>
<blockquote>
<div><ul class="simple">
<li><p>Athena Project files (<a class="reference internal" href="iodata.html#xasviewer-athena"><span class="std std-ref">Reading Data from Athena Project Files</span></a>).</p></li>
<li><p>CSV files, from selected groups or for fitting and analysis results.</p></li>
<li><p>Larch Session files (<a class="reference internal" href="iodata.html#xasviewer-sessionfiles"><span class="std std-ref">Larch Session Files and XAS Viewer</span></a>).</p></li>
</ul>
</div></blockquote>
<p>See <a class="reference internal" href="iodata.html#xasviewer-io"><span class="std std-ref">Reading and Saving Data into XAS Viewer</span></a> for details</p>
</section>
<section id="xas-data-processing-and-management">
<h2><span class="section-number">5.1.2. </span>XAS Data Processing and Management<a class="headerlink" href="#xas-data-processing-and-management" title="Permalink to this heading">¶</a></h2>
<p>Each XAS spectra in XAS Viewer is contained in a <em>Group</em> of data. All of
the processing and analysis arrays and settings for this spectra will be
contained within this Group.  Each Group will be shown by its “File Name”
(assigned even if created and not read from an external file) and also have
a “Group Name” – the name in the Larch interpreter from which this Group
of data can be accessed.</p>
<p>From XAS Viewer, the following processing operations can be done on any
Group or any set of Groups of XAS Data:</p>
<blockquote>
<div><ul class="simple">
<li><p>Merging: adding together the <span class="math notranslate nohighlight">\(\mu(E)\)</span> signals.</p></li>
<li><p>Setting an Energy Reference: Each Group has an Energy Reference Group used when calibrating energies.</p></li>
<li><p>Energy Calibration: aligning energies of Groups. (<a class="reference internal" href="dialogs.html#xasviewer-energy-calib"><span class="std std-ref">Energy Calibration and alignment</span></a>)</p></li>
<li><p>Rebinning of data onto a different energy grid</p></li>
<li><p>Remove glitches or truncating data.</p></li>
<li><p>Smoothing of data.</p></li>
<li><p>Deconvolution of data.</p></li>
<li><p>Correcting for Over-absorption of fluorescence XANES data.</p></li>
<li><p>Pre-edge subtraction.</p></li>
<li><p>Normalization, either using polynomials or the MBACK algorithm.</p></li>
</ul>
</div></blockquote>
<p>All of these processing steps can be done interactively, with users able to adjust
a small set of curated parameters and then visualize the results of these adjustments.</p>
</section>
<section id="xanes-analysis">
<h2><span class="section-number">5.1.3. </span>XANES Analysis<a class="headerlink" href="#xanes-analysis" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>linear combination analysis of spectra.</p></li>
<li><p>principal component analysis.</p></li>
<li><p>regression of XANES spectra with a predicting external variable.</p></li>
<li><p>pre-edge peak fitting.</p></li>
</ul>
</div></blockquote>
</section>
<section id="exafs-processing">
<h2><span class="section-number">5.1.4. </span>EXAFS Processing<a class="headerlink" href="#exafs-processing" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>EXAFS background spline removal.</p></li>
<li><p>forward Fourier transforms from <span class="math notranslate nohighlight">\(k\)</span> to <span class="math notranslate nohighlight">\(R\)</span></p></li>
<li><p>back Fourier transforms from <span class="math notranslate nohighlight">\(R\)</span> to filtered-<span class="math notranslate nohighlight">\(k\)</span> space</p></li>
<li><p>Cauchy wavelet transforms.</p></li>
</ul>
</div></blockquote>
</section>
<section id="exafs-modeling-with-feff">
<h2><span class="section-number">5.1.5. </span>EXAFS Modeling with FEFF<a class="headerlink" href="#exafs-modeling-with-feff" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>Browser for CIF files from American Mineralogist Crystal Structure Database.</p></li>
<li><p>Convert CIF files (from AMCSDB or external file) to feff.inp for Feff6/Feff8l.</p></li>
<li><p>Run Feff6 or Feff8, saving and browsing EXAFS Paths from these Feff runs.</p></li>
<li><p>Feff Fitting of single EXAFS spectra for a sum of Feff paths.</p></li>
</ul>
</div></blockquote>
<p>XAS Viewer presents a “Normalization” form for basic pre-edge subtraction,
and normalization of XAFS spectra. <a class="reference internal" href="#fig-xasviewer-1"><span class="std std-numref">Figure 5.1.5.1</span></a> shows the main
window for the XAS Viewer program.  The left-hand portion contains a list
of files (or data Groups) that have been read into the program.  Clicking
on the file name makes that “the current data group”, while checking the
boxes next to each name will select multiple Groups.  Buttons at the top of
the list of files can be used to “Select All” or “Select None”.
Right-clicking on the file list will pop up a menu that allows more
detailed selecting of data sets.</p>
<figure class="align-center" id="id1">
<span id="fig-xasviewer-1"></span><a class="reference external image-reference" href="./_images/XASViewer_Main.png"><img alt="../_images/XASViewer_Main.png" src="../_images/XASViewer_Main.png" style="width: 75%;" /></a>
<figcaption>
<p><span class="caption-number">Figure 5.1.5.1 </span><span class="caption-text">XASViewer showing the File/Group list on the left-hand side and the
the XAFS pre-edge subtraction and normalization panel on the right.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The right-hand portion of the XAS Viewer window shows multiple forms for
more specialized XAFS data processing tasks, each on a separate Notebook
tab.  These will be covered in more detail in sections below. The default
panel shown is for pre-edge subtraction and normalization
(<a class="reference internal" href="dialogs.html#xasviewer-preedge"><span class="std std-ref">Pre-edge subtraction and Normalization</span></a>), with other available tabs for fitting pre-edge
peaks (<a class="reference internal" href="preedge.html#xasviewer-peakfit"><span class="std std-ref">Pre-edge peak fitting</span></a>), Linear Combination Analysis
(<a class="reference internal" href="preedge.html#xasviewer-lincombo"><span class="std std-ref">Linear Combination Analysis</span></a>),
Principal Component Analysis (<a class="reference internal" href="preedge.html#xasviewer-pca"><span class="std std-ref">Principal Component and Non-negative Factor Analysis</span></a>),
Advanced Linear Regression (<a class="reference internal" href="preedge.html#xasviewer-regression"><span class="std std-ref">Linear Regression with LASSO and PLS to predict external variable</span></a>),
EXAFS Analysis (<a class="reference internal" href="preedge.html#xasviewer-exafs-bkg"><span class="std std-ref">EXAFS Processing: Background Subtraction</span></a> and
<a class="reference internal" href="preedge.html#xasviewer-exafs-fft"><span class="std std-ref">EXAFS Processing:  Fourier Transforms</span></a>), and Feff fitting (<a class="reference internal" href="preedge.html#xasviewer-feffit"><span class="std std-ref">Fitting EXAFS data to Feff Paths</span></a>).</p>
<p>There are a few important general notes to mention about XAS Viewer before
going into more detail about how to use it.  First, XAS Viewer is still in
active development.  If you find problems with it or unexpected or missing
functionality, please let us know.  Second, XAS Viewer has many features,
functionality, and concepts in common with Athena and Sixpack. This is
intentional, as we intend XAS Viewer to be a useful alternative to these
applications, possibly with new or better features but also without losing
too many features or requiring too much relearning of concepts or workflow.
As an important example of this compatibility, XAS Viewer can read in and
import data from Athena Project files, and can save these project files as
well, so that if you have lots of data organized with Athena Project Files,
you can use XAS Viewer and Athena on the same datasets.  If you find
features to be missing or different from how Athena or Sixpack work, let us
know.</p>
<p>As a GUI, XAS Viewer is intended to make data processing analysis easy and
intuitive. As a Larch application it is also intended to enable more
complex analysis, batch processing, and scripting of analysis tasks.  To do
this, essentially all the real processing work, including most of the
plotting of data, is done in XAS Viewer through the Larch Buffer (as shown
in <a class="reference internal" href="../guis.html#larchgui-app"><span class="std std-ref">Basic Larch GUI</span></a>) which records the commands as it executes them.  If,
at any point you want to know exactly what XAS Viewer is “really doing”,
you can open the Larch Buffer and see the commands being executed.  You can
also copy the code from the Larch buffer to reproduce the analysis steps,
or modify into procedures for batch processing with the Larch scripting
language or with Python.  Essentially all of the data used in XAS Viewer is
available from the Larch buffer.</p>
<p>XAS Viewer will display many different datasets as 2-d line plots.  As with
all such plots made with Larch (see <a class="reference internal" href="../plotting.html#plotting-chapter"><span class="std std-ref">Plotting and Displaying Data</span></a>), these are
highly interactive, customizable, and can produce publication-quality
images.  The plots can be zoomed in and out, and can be configured to
change the colors, linestyles, margins, text for labels, and more. From any
plot window you can use Ctrl-C to copy the image to the clipboard, Ctrl-S
to Save the image as PNG file, or Ctrl-P to print the image with your
systems printer. Ctrl-K will bring up a window with forms to configure the
colors, text, styles and so on. These common options are available from the
File and Options menu of the plotting window.</p>
<p>In particular, clicking on the legend for any labeled curve on a plot will
toggle whether that curve is displayed and partially lighten the label
itself.  This feature of the plotting window means that XAS Viewer may draw
several different traces on the same plot window and allow (or even expect)
you to turn some of them on or off interactively to better view the
different components being shown.  This can be especially useful for
comparing XANES spectra or for inspecting the results of peak fitting.</p>
<p>Also note that many of the entries for numbers on the form panels in XAS
Viewer have a button with a ‘pin’ icon <a class="reference internal" href="../_images/pin_icon.png"><img alt="pin" src="../_images/pin_icon.png" style="width: 18pt; height: 18pt;" /></a>.  Clicking anywhere on the
plot window will remember the X and Y values of the last point clicked, and
show the value in the middle section of the status bar, just below the plot
itself. Clicking on any of these ‘pin’ buttons will insert the appropriate
value (usually the energy) from that “most recently clicked position” into
the corresponding field.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="iodata.html" title="5.2. Reading and Saving Data into XAS Viewer"
             >next</a> |</li>
        <li class="right" >
          <a href="../xasviewer.html" title="5. XASViewer"
             >previous</a> |</li>
   <li>[<a href="../index.html"> Larch</a>|</li>
   <li><a href="../getting_started.html"> Getting Started</a>|</li>
   <li><a href="../xafs.html">XAFS Analysis</a>|</li>
   <li><a href="../xray.html">X-ray Databases</a>|</li>
   <li><a href="../xrf.html">XRF Analysis</a>|</li>

          <li class="nav-item nav-item-1"><a href="../xasviewer.html" ><span class="section-number">5. </span>XASViewer</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">5.1. </span>XAS Viewer Overview</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Matthew Newville, The University of Chicago, 2022.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
    </div>
  </body>
</html>